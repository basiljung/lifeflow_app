import{b as g,d as c}from"./chunk-PJLCJ7XH.js";import{J as a,O as u,g as n,h as s,u as o}from"./chunk-WT77SUPM.js";var p=class r{constructor(e){this.router=e;this.routerSubscription=this.router.events.pipe(o(t=>t instanceof g)).subscribe(()=>{let i=this.router.url.split("/")[1];i&&i!==this.getCurrentLang()&&this.setLanguage(i)})}langSubject=new s("en");lang$=this.langSubject.asObservable();routerSubscription;toggleLangSubject=new n;toggleLang$=this.toggleLangSubject.asObservable();setLanguage(e){this.langSubject.next(e)}getCurrentLang(){return this.langSubject.value}switchLanguage(e){this.setLanguage(e);let t=this.router.url.split("/").filter(Boolean);t[0]=e,this.router.navigate(["/",...t])}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||r)(u(c))};static \u0275prov=a({token:r,factory:r.\u0275fac,providedIn:"root"})};export{p as a};
