import{a as fn}from"./chunk-WS3K4MRF.js";import{a as ro,b as so,c as hn,d as oo,e as be,f as Qe,g as ao,h as et,i as x}from"./chunk-YLQHFM6U.js";import{a as $i,k as dn,n as H}from"./chunk-IRDN56VV.js";import{$ as Oi,$b as io,D as Js,Eb as Tt,Fa as g,Fb as m,Gb as K,Hb as w,I as Ys,Jb as Fi,Ka as yt,Kb as Ui,La as Ie,Lb as Hi,Pa as Vi,Pb as Ct,Q as U,Qa as y,Rb as M,S as Pi,T as Xs,U as mt,Va as O,Vb as no,W as gt,Wa as xi,Wb as Ee,X as _t,Xa as B,Xb as At,Y as Di,Za as ye,_ as q,_a as ln,_b as Wi,a as b,aa as V,ab as eo,b as R,ba as on,c as Ci,d as ge,da as Zs,dc as Bi,e as a,ea as an,eb as un,fa as vt,fb as xe,ga as It,gb as Fe,h as _e,ha as Le,k as L,kb as k,lb as f,m as qs,ma as ve,mb as p,n as Ks,nb as A,oa as cn,ob as Et,p as Ai,pa as Ve,pb as bt,q as Si,qa as Ni,qb as to,r as ki,ra as Mi,s as Ri,ta as Li,tb as wt,ub as S,wb as re,x as sn,xa as Qs}from"./chunk-BGKTTZVK.js";var co=()=>{};var ho=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},_l=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],l=n[t++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},pn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,l=o?n[r+1]:0,c=r+2<n.length,u=c?n[r+2]:0,h=s>>2,_=(s&3)<<4|l>>4,d=(l&15)<<2|u>>6,I=u&63;c||(I=64,o||(d=64)),i.push(t[h],t[_],t[d],t[I])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ho(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_l(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],l=r<n.length?t[n.charAt(r)]:0;++r;let u=r<n.length?t[n.charAt(r)]:64;++r;let _=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||l==null||u==null||_==null)throw new zi;let d=s<<2|l>>4;if(i.push(d),u!==64){let I=l<<4&240|u>>2;if(i.push(I),_!==64){let P=u<<6&192|_;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},zi=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},vl=function(n){let e=ho(n);return pn.encodeByteArray(e,!0)},qi=function(n){return vl(n).replace(/\./g,"")},mn=function(n){try{return pn.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fo(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Il=()=>fo().__FIREBASE_DEFAULTS__,yl=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},El=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&mn(n[1]);return e&&JSON.parse(e)},Ki=()=>{try{return co()||Il()||yl()||El()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},po=n=>{var e,t;return(t=(e=Ki())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]};var Ji=()=>{var n;return(n=Ki())===null||n===void 0?void 0:n.config},Yi=n=>{var e;return(e=Ki())===null||e===void 0?void 0:e[`_${n}`]};var Ue=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function kt(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function mo(n){return a(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}var St={};function bl(){let n={prod:[],emulator:[]};for(let e of Object.keys(St))St[e]?n.emulator.push(e):n.prod.push(e);return n}function wl(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var lo=!1;function go(n,e){if(typeof window>"u"||typeof document>"u"||!kt(window.location.host)||St[n]===e||St[n]||lo)return;St[n]=e;function t(d){return`__firebase__banner__${d}`}let i="__firebase__banner",s=bl().prod.length>0;function o(){let d=document.getElementById(i);d&&d.remove()}function l(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function c(d,I){d.setAttribute("width","24"),d.setAttribute("id",I),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){let d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{lo=!0,o()},d}function h(d,I){d.setAttribute("id",I),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function _(){let d=wl(i),I=t("text"),P=document.getElementById(I)||document.createElement("span"),pe=t("learnmore"),me=document.getElementById(pe)||document.createElement("a"),ne=t("preprendIcon"),ie=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){let Me=d.element;l(Me),h(me,pe);let rn=u();c(ie,ne),Me.append(ie,P,me,rn),document.body.appendChild(Me)}s?(P.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function N(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _o(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(N())}function vo(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Io(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yo(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Eo(){let n=N();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function gn(){try{return typeof indexedDB=="object"}catch{return!1}}function bo(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var Tl="FirebaseError",$=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Tl,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j.prototype.create)}},j=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?Cl(s,i):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new $(r,l,i)}};function Cl(n,e){return n.replace(Al,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var Al=/\{\$([^}]+)}/g;function wo(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function we(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],o=e[r];if(uo(s)&&uo(o)){if(!we(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function uo(n){return n!==null&&typeof n=="object"}function Rt(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function tt(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function nt(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function To(n,e){let t=new Gi(n,e);return t.subscribe.bind(t)}var Gi=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Sl(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=ji),r.error===void 0&&(r.error=ji),r.complete===void 0&&(r.complete=ji);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Sl(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ji(){}var Vg=14400*1e3;function J(n){return n&&n._delegate?n._delegate:n}var F=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var He="[DEFAULT]";var Xi=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new Ue;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Rl(e))try{this.getOrInitializeService({instanceIdentifier:He})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=He){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return a(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=He){return this.instances.has(e)}getOptions(e=He){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,o]of this.instancesDeferred.entries()){let l=this.normalizeInstanceIdentifier(s);i===l&&o.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:kl(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=He){return this.component?this.component.multipleInstances?e:He:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function kl(n){return n===He?void 0:n}function Rl(n){return n.instantiationMode==="EAGER"}var _n=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Xi(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Pl=[],T=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(T||{}),Dl={debug:T.DEBUG,verbose:T.VERBOSE,info:T.INFO,warn:T.WARN,error:T.ERROR,silent:T.SILENT},Ol=T.INFO,Nl={[T.DEBUG]:"log",[T.VERBOSE]:"log",[T.INFO]:"info",[T.WARN]:"warn",[T.ERROR]:"error"},Ml=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=Nl[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Te=class{constructor(e){this.name=e,this._logLevel=Ol,this._logHandler=Ml,this._userLogHandler=null,Pl.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in T))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dl[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,T.DEBUG,...e),this._logHandler(this,T.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,T.VERBOSE,...e),this._logHandler(this,T.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,T.INFO,...e),this._logHandler(this,T.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,T.WARN,...e),this._logHandler(this,T.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,T.ERROR,...e),this._logHandler(this,T.ERROR,...e)}};var Ll=(n,e)=>e.some(t=>n instanceof t),Co,Ao;function Vl(){return Co||(Co=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xl(){return Ao||(Ao=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var So=new WeakMap,Qi=new WeakMap,ko=new WeakMap,Zi=new WeakMap,tr=new WeakMap;function Fl(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Y(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&So.set(t,n)}).catch(()=>{}),tr.set(e,n),e}function Ul(n){if(Qi.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Qi.set(n,e)}var er={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Qi.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ko.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Y(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ro(n){er=n(er)}function Hl(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(vn(this),e,...t);return ko.set(i,e.sort?e.sort():[e]),Y(i)}:xl().includes(n)?function(...e){return n.apply(vn(this),e),Y(So.get(this))}:function(...e){return Y(n.apply(vn(this),e))}}function Wl(n){return typeof n=="function"?Hl(n):(n instanceof IDBTransaction&&Ul(n),Ll(n,Vl())?new Proxy(n,er):n)}function Y(n){if(n instanceof IDBRequest)return Fl(n);if(Zi.has(n))return Zi.get(n);let e=Wl(n);return e!==n&&(Zi.set(n,e),tr.set(e,n)),e}var vn=n=>tr.get(n);function In(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,e),l=Y(o);return i&&o.addEventListener("upgradeneeded",c=>{i(Y(o.result),c.oldVersion,c.newVersion,Y(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}var Bl=["get","getKey","getAll","getAllKeys","count"],$l=["put","add","delete","clear"],nr=new Map;function Po(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(nr.get(e))return nr.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=$l.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Bl.includes(t)))return;let s=function(o,...l){return a(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]})};return nr.set(e,s),s}Ro(n=>R(b({},n),{get:(e,t,i)=>Po(e,t)||n.get(e,t,i),has:(e,t)=>!!Po(e,t)||n.has(e,t)}));var rr=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(jl(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function jl(n){let e=n.getComponent();return e?.type==="VERSION"}var sr="@firebase/app",Do="0.13.2";var se=new Te("@firebase/app"),zl="@firebase/app-compat",Gl="@firebase/analytics-compat",ql="@firebase/analytics",Kl="@firebase/app-check-compat",Jl="@firebase/app-check",Yl="@firebase/auth",Xl="@firebase/auth-compat",Zl="@firebase/database",Ql="@firebase/data-connect",eu="@firebase/database-compat",tu="@firebase/functions",nu="@firebase/functions-compat",iu="@firebase/installations",ru="@firebase/installations-compat",su="@firebase/messaging",ou="@firebase/messaging-compat",au="@firebase/performance",cu="@firebase/performance-compat",lu="@firebase/remote-config",uu="@firebase/remote-config-compat",du="@firebase/storage",hu="@firebase/storage-compat",fu="@firebase/firestore",pu="@firebase/ai",mu="@firebase/firestore-compat",gu="firebase",_u="11.10.0";var or="[DEFAULT]",vu={[sr]:"fire-core",[zl]:"fire-core-compat",[ql]:"fire-analytics",[Gl]:"fire-analytics-compat",[Jl]:"fire-app-check",[Kl]:"fire-app-check-compat",[Yl]:"fire-auth",[Xl]:"fire-auth-compat",[Zl]:"fire-rtdb",[Ql]:"fire-data-connect",[eu]:"fire-rtdb-compat",[tu]:"fire-fn",[nu]:"fire-fn-compat",[iu]:"fire-iid",[ru]:"fire-iid-compat",[su]:"fire-fcm",[ou]:"fire-fcm-compat",[au]:"fire-perf",[cu]:"fire-perf-compat",[lu]:"fire-rc",[uu]:"fire-rc-compat",[du]:"fire-gcs",[hu]:"fire-gcs-compat",[fu]:"fire-fst",[mu]:"fire-fst-compat",[pu]:"fire-vertex","fire-js":"fire-js",[gu]:"fire-js-all"};var Pt=new Map,Iu=new Map,ar=new Map;function Oo(n,e){try{n.container.addComponent(e)}catch(t){se.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function oe(n){let e=n.name;if(ar.has(e))return se.debug(`There were multiple attempts to register component ${e}.`),!1;ar.set(e,n);for(let t of Pt.values())Oo(t,n);for(let t of Iu.values())Oo(t,n);return!0}function yn(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function W(n){return n==null?!1:n.settings!==void 0}var yu={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ce=new j("app","Firebase",yu);var cr=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new F("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ce.create("app-deleted",{appName:this._name})}};var it=_u;function dr(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:or,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw Ce.create("bad-app-name",{appName:String(r)});if(t||(t=Ji()),!t)throw Ce.create("no-options");let s=Pt.get(r);if(s){if(we(t,s.options)&&we(i,s.config))return s;throw Ce.create("duplicate-app",{appName:r})}let o=new _n(r);for(let c of ar.values())o.addComponent(c);let l=new cr(t,i,o);return Pt.set(r,l),l}function Ot(n=or){let e=Pt.get(n);if(!e&&n===or&&Ji())return dr();if(!e)throw Ce.create("no-app",{appName:n});return e}function En(){return Array.from(Pt.values())}function D(n,e,t){var i;let r=(i=vu[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),se.warn(l.join(" "));return}oe(new F(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var Eu="firebase-heartbeat-database",bu=1,Dt="firebase-heartbeat-store",ir=null;function Vo(){return ir||(ir=In(Eu,bu,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Dt)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ce.create("idb-open",{originalErrorMessage:n.message})})),ir}function wu(n){return a(this,null,function*(){try{let t=(yield Vo()).transaction(Dt),i=yield t.objectStore(Dt).get(xo(n));return yield t.done,i}catch(e){if(e instanceof $)se.warn(e.message);else{let t=Ce.create("idb-get",{originalErrorMessage:e?.message});se.warn(t.message)}}})}function No(n,e){return a(this,null,function*(){try{let i=(yield Vo()).transaction(Dt,"readwrite");yield i.objectStore(Dt).put(e,xo(n)),yield i.done}catch(t){if(t instanceof $)se.warn(t.message);else{let i=Ce.create("idb-set",{originalErrorMessage:t?.message});se.warn(i.message)}}})}function xo(n){return`${n.name}!${n.options.appId}`}var Tu=1024,Cu=30,lr=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ur(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return a(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Mo();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>Cu){let o=Su(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){se.warn(i)}})}getHeartbeatsHeader(){return a(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Mo(),{heartbeatsToSend:i,unsentEntries:r}=Au(this._heartbeatsCache.heartbeats),s=qi(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return se.warn(t),""}})}};function Mo(){return new Date().toISOString().substring(0,10)}function Au(n,e=Tu){let t=[],i=n.slice();for(let r of n){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Lo(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Lo(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var ur=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return a(this,null,function*(){return gn()?bo().then(()=>!0).catch(()=>!1):!1})}read(){return a(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield wu(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return a(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return No(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return a(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return No(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function Lo(n){return qi(JSON.stringify({version:2,heartbeats:n})).length}function Su(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function ku(n){oe(new F("platform-logger",e=>new rr(e),"PRIVATE")),oe(new F("heartbeat",e=>new lr(e),"PRIVATE")),D(sr,Do,n),D(sr,Do,"esm2017"),D("fire-js","")}ku("");var Ru="firebase",Pu="11.10.0";D(Ru,Pu,"app");function Fo(n){n===void 0&&(n=V(Le));let e=n.get(cn);return t=>new _e(i=>{let r=e.add(),s=!1;function o(){s||(r(),s=!0)}let l=t.subscribe({next:c=>{i.next(c),o()},complete:()=>{i.complete(),o()},error:c=>{i.error(c),o()}});return l.add(()=>{i.unsubscribe(),o()}),l})}var st=new Pi("ANGULARFIRE2_VERSION");function hr(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var wn=(n,e)=>{let t=e?[e]:En(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},rt=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(rt||{}),Uo=Wi()&&typeof Zone<"u"?rt.WARN:rt.SILENT;var bn=class{zone;delegate;constructor(e,t=Ks){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r?r.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,i)}},ot=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=V(Ie);this.outsideAngular=t.runOutsideAngular(()=>new bn(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new bn(typeof Zone>"u"?void 0:Zone.current,qs))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ho=!1;function Ou(n,e){!Ho&&(Uo>rt.SILENT||Wi())&&(Ho=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Uo>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Nu(n){let e=V(Ie,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function We(n){let e=V(Ie,{optional:!0});return e?e.run(()=>n()):n()}var Mu=(n,e,t)=>(...i)=>(e&&setTimeout(e,0),an(t,()=>We(()=>n.apply(void 0,i)))),Z=(n,e,t)=>(t||=e?rt.WARN:rt.VERBOSE,function(){let i,r=arguments,s,o,l;try{s=V(ot),o=V(cn),l=V(Zs)}catch{return Ou(n,t),n.apply(this,r)}for(let u=0;u<arguments.length;u++)typeof r[u]=="function"&&(e&&(i||=We(()=>o.add())),r[u]=Mu(r[u],i,l));let c=Nu(()=>n.apply(this,r));return e?c instanceof _e?c.pipe(ki(s.outsideAngular),Si(s.insideAngular),Fo(l)):c instanceof Promise?We(()=>{let u=o.add();return new Promise((h,_)=>{c.then(d=>an(l,()=>We(()=>h(d))),d=>an(l,()=>We(()=>_(d)))).finally(u)})}):typeof c=="function"&&i?function(){return setTimeout(i,0),c.apply(this,arguments)}:We(()=>c):c instanceof _e?c.pipe(ki(s.outsideAngular),Si(s.insideAngular)):We(()=>c)});var Be=class{constructor(e){return e}},Nt=class{constructor(){return En()}};function Lu(n){return n&&n.length===1?n[0]:new Be(Ot())}var fr=new q("angularfire2._apps"),Vu={provide:Be,useFactory:Lu,deps:[[new Ve,fr]]},xu={provide:Nt,deps:[[new Ve,fr]]};function Fu(n){return(e,t)=>{let i=t.get(Qs);D("angularfire",st.full,"core"),D("angularfire",st.full,"app"),D("angular",Xs.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new Be(r)}}function Wo(n,...e){return on([Vu,xu,{provide:fr,useFactory:Fu(n),multi:!0,deps:[Ie,Le,ot,...e]}])}var Bo=Z(dr,!0);var Uu=new Map,Hu={activated:!1,tokenObservers:[]},Wu={initialized:!1,enabled:!1};function z(n){return Uu.get(n)||Object.assign({},Hu)}function Go(){return Wu}var Bu="https://content-firebaseappcheck.googleapis.com/v1";var $u="exchangeDebugToken",$o={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},U_=1440*60*1e3;var gr=class{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return a(this,null,function*(){this.stop();try{this.pending=new Ue,this.pending.promise.catch(t=>{}),yield ju(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ue,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function ju(n){return new Promise(e=>{setTimeout(e,n)})}var zu={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ae=new j("appCheck","AppCheck",zu);function qo(n){if(!z(n).activated)throw Ae.create("use-before-activation",{appName:n.name})}function Ko(i,r){return a(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let I=yield o.getHeartbeatsHeader();I&&(s["X-Firebase-Client"]=I)}let l={method:"POST",body:JSON.stringify(e),headers:s},c;try{c=yield fetch(n,l)}catch(I){throw Ae.create("fetch-network-error",{originalErrorMessage:I?.message})}if(c.status!==200)throw Ae.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(I){throw Ae.create("fetch-parse-error",{originalErrorMessage:I?.message})}let h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Ae.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let _=Number(h[1])*1e3,d=Date.now();return{token:u.token,expireTimeMillis:d+_,issuedAtTimeMillis:d}})}function Jo(n,e){let{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${Bu}/projects/${t}/apps/${i}:${$u}?key=${r}`,body:{debug_token:e}}}var Gu="firebase-app-check-database",qu=1,_r="firebase-app-check-store";var Tn=null;function Ku(){return Tn||(Tn=new Promise((n,e)=>{try{let t=indexedDB.open(Gu,qu);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Ae.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(_r,{keyPath:"compositeKey"})}}}catch(t){e(Ae.create("storage-open",{originalErrorMessage:t?.message}))}}),Tn)}function Ju(n,e){return Yu(Xu(n),e)}function Yu(n,e){return a(this,null,function*(){let i=(yield Ku()).transaction(_r,"readwrite"),s=i.objectStore(_r).put({compositeKey:n,value:e});return new Promise((o,l)=>{s.onsuccess=c=>{o()},i.onerror=c=>{var u;l(Ae.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function Xu(n){return`${n.options.appId}-${n.name}`}var Mt=new Te("@firebase/app-check");function pr(n,e){return gn()?Ju(n,e).catch(t=>{Mt.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Yo(){return Go().enabled}function Xo(){return a(this,null,function*(){let n=Go();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Zu={error:"UNKNOWN_ERROR"};function Qu(n){return pn.encodeString(JSON.stringify(n),!1)}function vr(n,e=!1,t=!1){return a(this,null,function*(){let i=n.app;qo(i);let r=z(i),s=r.token,o;if(s&&!Lt(s)&&(r.token=void 0,s=void 0),!s){let u=yield r.cachedTokenPromise;u&&(Lt(u)?s=u:yield pr(i,void 0))}if(!e&&s&&Lt(s))return{token:s.token};let l=!1;if(Yo())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=Ko(Jo(i,yield Xo()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);let u=yield r.exchangeTokenPromise;return yield pr(i,u),r.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Mt.warn(u.message):t&&Mt.error(u),mr(u)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),s=yield z(i).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Mt.warn(u.message):t&&Mt.error(u),o=u}let c;return s?o?Lt(s)?c={token:s.token,internalError:o}:c=mr(o):(c={token:s.token},r.token=s,yield pr(i,s)):c=mr(o),l&&id(i,c),c})}function ed(n){return a(this,null,function*(){let e=n.app;qo(e);let{provider:t}=z(e);if(Yo()){let i=yield Xo(),{token:r}=yield Ko(Jo(e,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield t.getToken();return{token:i}}})}function td(n,e,t,i){let{app:r}=n,s=z(r),o={next:t,error:i,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Lt(s.token)){let l=s.token;Promise.resolve().then(()=>{t({token:l.token}),jo(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>jo(n))}function Zo(n,e){let t=z(n),i=t.tokenObservers.filter(r=>r.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function jo(n){let{app:e}=n,t=z(e),i=t.tokenRefresher;i||(i=nd(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function nd(n){let{app:e}=n;return new gr(()=>a(null,null,function*(){let t=z(e),i;if(t.token?i=yield vr(n,!0):i=yield vr(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=z(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-300*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},$o.RETRIAL_MIN_WAIT,$o.RETRIAL_MAX_WAIT)}function id(n,e){let t=z(n).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Lt(n){return n.expireTimeMillis-Date.now()>0}function mr(n){return{token:Qu(Zu),error:n}}var Ir=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=z(this.app);for(let t of e)Zo(this.app,t.next);return Promise.resolve()}};function rd(n,e){return new Ir(n,e)}function sd(n){return{getToken:e=>vr(n,e),getLimitedUseToken:()=>ed(n),addTokenListener:e=>td(n,"INTERNAL",e),removeTokenListener:e=>Zo(n.app,e)}}var od="@firebase/app-check",ad="0.10.1";var cd="app-check",zo="app-check-internal";function ld(){oe(new F(cd,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return rd(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(zo).initialize()})),oe(new F(zo,n=>{let e=n.getProvider("app-check").getImmediate();return sd(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),D(od,ad)}ld();var ud="app-check";var Cn=class{constructor(){return wn(ud)}};var dd=["localhost","0.0.0.0","127.0.0.1"],Z_=typeof window<"u"&&dd.includes(window.location.hostname);var Qo=()=>{};var ea=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},hd=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],l=n[t++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ta={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,l=o?n[r+1]:0,c=r+2<n.length,u=c?n[r+2]:0,h=s>>2,_=(s&3)<<4|l>>4,d=(l&15)<<2|u>>6,I=u&63;c||(I=64,o||(d=64)),i.push(t[h],t[_],t[d],t[I])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ea(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hd(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],l=r<n.length?t[n.charAt(r)]:0;++r;let u=r<n.length?t[n.charAt(r)]:64;++r;let _=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||l==null||u==null||_==null)throw new Er;let d=s<<2|l>>4;if(i.push(d),u!==64){let I=l<<4&240|u>>2;if(i.push(I),_!==64){let P=u<<6&192|_;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Er=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fd=function(n){let e=ea(n);return ta.encodeByteArray(e,!0)},wr=function(n){return fd(n).replace(/\./g,"")},An=function(n){try{return ta.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pd(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var md=()=>pd().__FIREBASE_DEFAULTS__,gd=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_d=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&An(n[1]);return e&&JSON.parse(e)},vd=()=>{try{return Qo()||md()||gd()||_d()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}};var na=n=>vd()?.[`_${n}`];function Tr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function G(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ia(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(G())}function ra(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sa(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function oa(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aa(){try{return typeof indexedDB=="object"}catch{return!1}}function ca(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}var Id="FirebaseError",Q=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Id,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ae.prototype.create)}},ae=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?yd(s,i):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new Q(r,l,i)}};function yd(n,e){return n.replace(Ed,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var Ed=/\{\$([^}]+)}/g;function Cr(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function la(n,e){let t=new br(n,e);return t.subscribe.bind(t)}var br=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");bd(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=yr),r.error===void 0&&(r.error=yr),r.complete===void 0&&(r.complete=yr);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function bd(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function yr(){}var iv=14400*1e3;function $e(n){return n&&n._delegate?n._delegate:n}var ce=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var wd=[],C=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(C||{}),Td={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},Cd=C.INFO,Ad={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},Sd=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=Ad[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},at=class{constructor(e){this.name=e,this._logLevel=Cd,this._logHandler=Sd,this._userLogHandler=null,wd.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in C))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Td[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...e),this._logHandler(this,C.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...e),this._logHandler(this,C.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,C.INFO,...e),this._logHandler(this,C.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,C.WARN,...e),this._logHandler(this,C.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...e),this._logHandler(this,C.ERROR,...e)}};var Sr=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Rd(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function Rd(n){return n.getComponent()?.type==="VERSION"}var kr="@firebase/app",ua="0.14.8";var le=new at("@firebase/app"),Pd="@firebase/app-compat",Dd="@firebase/analytics-compat",Od="@firebase/analytics",Nd="@firebase/app-check-compat",Md="@firebase/app-check",Ld="@firebase/auth",Vd="@firebase/auth-compat",xd="@firebase/database",Fd="@firebase/data-connect",Ud="@firebase/database-compat",Hd="@firebase/functions",Wd="@firebase/functions-compat",Bd="@firebase/installations",$d="@firebase/installations-compat",jd="@firebase/messaging",zd="@firebase/messaging-compat",Gd="@firebase/performance",qd="@firebase/performance-compat",Kd="@firebase/remote-config",Jd="@firebase/remote-config-compat",Yd="@firebase/storage",Xd="@firebase/storage-compat",Zd="@firebase/firestore",Qd="@firebase/ai",eh="@firebase/firestore-compat",th="firebase",nh="12.9.0";var ih={[kr]:"fire-core",[Pd]:"fire-core-compat",[Od]:"fire-analytics",[Dd]:"fire-analytics-compat",[Md]:"fire-app-check",[Nd]:"fire-app-check-compat",[Ld]:"fire-auth",[Vd]:"fire-auth-compat",[xd]:"fire-rtdb",[Fd]:"fire-data-connect",[Ud]:"fire-rtdb-compat",[Hd]:"fire-fn",[Wd]:"fire-fn-compat",[Bd]:"fire-iid",[$d]:"fire-iid-compat",[jd]:"fire-fcm",[zd]:"fire-fcm-compat",[Gd]:"fire-perf",[qd]:"fire-perf-compat",[Kd]:"fire-rc",[Jd]:"fire-rc-compat",[Yd]:"fire-gcs",[Xd]:"fire-gcs-compat",[Zd]:"fire-fst",[eh]:"fire-fst-compat",[Qd]:"fire-vertex","fire-js":"fire-js",[th]:"fire-js-all"};var rh=new Map,sh=new Map,da=new Map;function ha(n,e){try{n.container.addComponent(e)}catch(t){le.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function lt(n){let e=n.name;if(da.has(e))return le.debug(`There were multiple attempts to register component ${e}.`),!1;da.set(e,n);for(let t of rh.values())ha(t,n);for(let t of sh.values())ha(t,n);return!0}function je(n){return n==null?!1:n.settings!==void 0}var oh={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new ae("app","Firebase",oh);var Sn=nh;function ct(n,e,t){let i=ih[n]??n;t&&(i+=`-${t}`);let r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){let o=[`Unable to register library "${i}" with version "${e}":`];r&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),le.warn(o.join(" "));return}lt(new ce(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var ah="firebase-heartbeat-database",ch=1,Vt="firebase-heartbeat-store",Ar=null;function ga(){return Ar||(Ar=In(ah,ch,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Vt)}catch(t){console.warn(t)}}}}).catch(n=>{throw Dr.create("idb-open",{originalErrorMessage:n.message})})),Ar}function lh(n){return a(this,null,function*(){try{let t=(yield ga()).transaction(Vt),i=yield t.objectStore(Vt).get(_a(n));return yield t.done,i}catch(e){if(e instanceof Q)le.warn(e.message);else{let t=Dr.create("idb-get",{originalErrorMessage:e?.message});le.warn(t.message)}}})}function fa(n,e){return a(this,null,function*(){try{let i=(yield ga()).transaction(Vt,"readwrite");yield i.objectStore(Vt).put(e,_a(n)),yield i.done}catch(t){if(t instanceof Q)le.warn(t.message);else{let i=Dr.create("idb-set",{originalErrorMessage:t?.message});le.warn(i.message)}}})}function _a(n){return`${n.name}!${n.options.appId}`}var uh=1024,dh=30,Rr=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Pr(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return a(this,null,function*(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=pa();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>dh){let r=fh(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){le.warn(e)}})}getHeartbeatsHeader(){return a(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=pa(),{heartbeatsToSend:t,unsentEntries:i}=hh(this._heartbeatsCache.heartbeats),r=wr(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return le.warn(e),""}})}};function pa(){return new Date().toISOString().substring(0,10)}function hh(n,e=uh){let t=[],i=n.slice();for(let r of n){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),ma(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),ma(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var Pr=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return a(this,null,function*(){return aa()?ca().then(()=>!0).catch(()=>!1):!1})}read(){return a(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield lh(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return a(this,null,function*(){if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fa(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return a(this,null,function*(){if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fa(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ma(n){return wr(JSON.stringify({version:2,heartbeats:n})).length}function fh(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function ph(n){lt(new ce("platform-logger",e=>new Sr(e),"PRIVATE")),lt(new ce("heartbeat",e=>new Rr(e),"PRIVATE")),ct(kr,ua,n),ct(kr,ua,"esm2020"),ct("fire-js","")}ph("");function Ca(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Aa=Ca,Sa=new ae("auth","Firebase",Ca());var Dn=new at("@firebase/auth");function mh(n,...e){Dn.logLevel<=C.WARN&&Dn.warn(`Auth (${Sn}): ${n}`,...e)}function Rn(n,...e){Dn.logLevel<=C.ERROR&&Dn.error(`Auth (${Sn}): ${n}`,...e)}function va(n,...e){throw $r(n,...e)}function Br(n,...e){return $r(n,...e)}function ka(n,e,t){let i=R(b({},Aa()),{[e]:t});return new ae("auth","Firebase",i).create(e,{appName:n.name})}function Pn(n){return ka(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $r(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Sa.create(n,...e)}function E(n,e,...t){if(!n)throw $r(e,...t)}function xt(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Rn(e),new Error(e)}function On(n,e){n||xt(e)}function gh(){return Ia()==="http:"||Ia()==="https:"}function Ia(){return typeof self<"u"&&self.location?.protocol||null}function _h(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gh()||sa()||"connection"in navigator)?navigator.onLine:!0}function vh(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var qe=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,On(t>e,"Short delay should be less than long delay!"),this.isMobile=ia()||oa()}get(){return _h()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ih(n,e){On(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Nn=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var yh={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Eh=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bh=new qe(3e4,6e4);function Ra(n,e){return n.tenantId&&!e.tenantId?R(b({},e),{tenantId:n.tenantId}):e}function Fn(s,o,l,c){return a(this,arguments,function*(n,e,t,i,r={}){return Pa(n,r,()=>a(null,null,function*(){let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});let _=Cr(b({key:n.config.apiKey},h)).slice(1),d=yield n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);let I=b({method:e,headers:d},u);return ra()||(I.referrerPolicy="no-referrer"),n.emulatorConfig&&Tr(n.emulatorConfig.host)&&(I.credentials="include"),Nn.fetch()(yield Da(n,n.config.apiHost,t,_),I)}))})}function Pa(n,e,t){return a(this,null,function*(){n._canInitEmulator=!1;let i=b(b({},yh),e);try{let r=new Mr(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw kn(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw kn(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw kn(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw kn(n,"user-disabled",o);let h=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ka(n,h,u);va(n,h)}}catch(r){if(r instanceof Q)throw r;va(n,"network-request-failed",{message:String(r)})}})}function Da(n,e,t,i){return a(this,null,function*(){let r=`${e}${t}?${i}`,s=n,o=s.config.emulator?Ih(n.config,r):`${n.config.apiScheme}://${r}`;return Eh.includes(t)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}var Mr=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Br(this.auth,"network-request-failed")),bh.get())})}};function kn(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=Br(n,e,i);return r.customData._tokenResponse=t,r}function wh(n,e){return a(this,null,function*(){return Fn(n,"POST","/v1/accounts:delete",e)})}function Mn(n,e){return a(this,null,function*(){return Fn(n,"POST","/v1/accounts:lookup",e)})}function Ft(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Oa(n,e=!1){return a(this,null,function*(){let t=$e(n),i=yield t.getIdToken(e),r=Na(i);E(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Ft(Or(r.auth_time)),issuedAtTime:Ft(Or(r.iat)),expirationTime:Ft(Or(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Or(n){return Number(n)*1e3}function Na(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Rn("JWT malformed, contained fewer than 3 sections"),null;try{let r=An(t);return r?JSON.parse(r):(Rn("Failed to decode base64 JWT payload"),null)}catch(r){return Rn("Caught error parsing JWT payload as JSON",r?.toString()),null}}function ya(n){let e=Na(n);return E(e,"internal-error"),E(typeof e.exp<"u","internal-error"),E(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Lr(n,e,t=!1){return a(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof Q&&Th(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function Th({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Vr=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>a(this,null,function*(){yield this.iteration()}),t)}iteration(){return a(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ht=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ft(this.lastLoginAt),this.creationTime=Ft(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ln(n){return a(this,null,function*(){let e=n.auth,t=yield n.getIdToken(),i=yield Lr(n,Mn(e,{idToken:t}));E(i?.users.length,e,"internal-error");let r=i.users[0];n._notifyReloadListener(r);let s=r.providerUserInfo?.length?La(r.providerUserInfo):[],o=Ch(n.providerData,s),l=n.isAnonymous,c=!(n.email&&r.passwordHash)&&!o?.length,u=l?c:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Ht(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(n,h)})}function Ma(n){return a(this,null,function*(){let e=$e(n);yield Ln(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Ch(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function La(n){return n.map(i=>{var r=i,{providerId:e}=r,t=Ci(r,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}function Ah(n,e){return a(this,null,function*(){let t=yield Pa(n,{},()=>a(null,null,function*(){let i=Cr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=yield Da(n,r,"/v1/token",`key=${s}`),l=yield n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:l,body:i};return n.emulatorConfig&&Tr(n.emulatorConfig.host)&&(c.credentials="include"),Nn.fetch()(o,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Sh(n,e){return a(this,null,function*(){return Fn(n,"POST","/v2/accounts:revokeToken",Ra(n,e))})}var Ut=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){E(e.idToken,"internal-error"),E(typeof e.idToken<"u","internal-error"),E(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ya(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){E(e.length!==0,"internal-error");let t=ya(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return a(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(E(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return a(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield Ah(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new n;return i&&(E(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(E(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(E(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return xt("not implemented")}};function Se(n,e){E(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ze=class n{constructor(s){var o=s,{uid:e,auth:t,stsTokenManager:i}=o,r=Ci(o,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Ht(r.createdAt||void 0,r.lastLoginAt||void 0)}getIdToken(e){return a(this,null,function*(){let t=yield Lr(this,this.stsTokenManager.getToken(this.auth,e));return E(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Oa(this,e)}reload(){return Ma(this)}_assign(e){this!==e&&(E(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>b({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(R(b({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){E(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return a(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Ln(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return a(this,null,function*(){if(je(this.auth.app))return Promise.reject(Pn(this.auth));let e=yield this.getIdToken();return yield Lr(this,wh(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return R(b({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>b({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let i=t.displayName??void 0,r=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,l=t.tenantId??void 0,c=t._redirectEventId??void 0,u=t.createdAt??void 0,h=t.lastLoginAt??void 0,{uid:_,emailVerified:d,isAnonymous:I,providerData:P,stsTokenManager:pe}=t;E(_&&pe,e,"internal-error");let me=Ut.fromJSON(this.name,pe);E(typeof _=="string",e,"internal-error"),Se(i,e.name),Se(r,e.name),E(typeof d=="boolean",e,"internal-error"),E(typeof I=="boolean",e,"internal-error"),Se(s,e.name),Se(o,e.name),Se(l,e.name),Se(c,e.name),Se(u,e.name),Se(h,e.name);let ne=new n({uid:_,auth:e,email:r,emailVerified:d,displayName:i,isAnonymous:I,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:me,createdAt:u,lastLoginAt:h});return P&&Array.isArray(P)&&(ne.providerData=P.map(ie=>b({},ie))),c&&(ne._redirectEventId=c),ne}static _fromIdTokenResponse(e,t,i=!1){return a(this,null,function*(){let r=new Ut;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Ln(s),s})}static _fromGetAccountInfoResponse(e,t,i){return a(this,null,function*(){let r=t.users[0];E(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?La(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,l=new Ut;l.updateFromIdToken(i);let c=new n({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Ht(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var Ea=new Map;function Ge(n){On(n instanceof Function,"Expected a class definition");let e=Ea.get(n);return e?(On(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ea.set(n,e),e)}var kh=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return a(this,null,function*(){return!0})}_set(t,i){return a(this,null,function*(){this.storage[t]=i})}_get(t){return a(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return a(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),xr=kh;function Nr(n,e,t){return`firebase:${n}:${e}:${t}`}var Vn=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=Nr(this.userKey,r.apiKey,s),this.fullPersistenceKey=Nr("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return a(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Mn(this.auth,{idToken:e}).catch(()=>{});return t?ze._fromGetAccountInfoResponse(this.auth,t,e):null}return ze._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return a(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return a(this,null,function*(){if(!t.length)return new n(Ge(xr),e,i);let r=(yield Promise.all(t.map(u=>a(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||Ge(xr),o=Nr(i,e.config.apiKey,e.name),l=null;for(let u of t)try{let h=yield u._get(o);if(h){let _;if(typeof h=="string"){let d=yield Mn(e,{idToken:h}).catch(()=>{});if(!d)break;_=yield ze._fromGetAccountInfoResponse(e,d,h)}else _=ze._fromJSON(e,h);u!==s&&(l=_),s=u;break}}catch{}let c=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,i):(s=c[0],l&&(yield s._set(o,l.toJSON())),yield Promise.all(t.map(u=>a(null,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,i))})}};function ba(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Oh(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rh(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mh(e))return"Blackberry";if(Lh(e))return"Webos";if(Ph(e))return"Safari";if((e.includes("chrome/")||Dh(e))&&!e.includes("edge/"))return"Chrome";if(Nh(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function Rh(n=G()){return/firefox\//i.test(n)}function Ph(n=G()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dh(n=G()){return/crios\//i.test(n)}function Oh(n=G()){return/iemobile/i.test(n)}function Nh(n=G()){return/android/i.test(n)}function Mh(n=G()){return/blackberry/i.test(n)}function Lh(n=G()){return/webos/i.test(n)}function Va(n,e=[]){let t;switch(n){case"Browser":t=ba(G());break;case"Worker":t=`${ba(G())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sn}/${i}`}var Fr=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((o,l)=>{try{let c=e(s);o(c)}catch(c){l(c)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return a(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function Vh(t){return a(this,arguments,function*(n,e={}){return Fn(n,"GET","/v2/passwordPolicy",Ra(n,e))})}var xh=6,Ur=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??xh,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Hr=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xn(this),this.idTokenSubscription=new xn(this),this.beforeStateQueue=new Fr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sa,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ge(t)),this._initializationPromise=this.queue(()=>a(this,null,function*(){if(!this._deleted&&(this.persistenceManager=yield Vn.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return a(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return a(this,null,function*(){try{let t=yield Mn(this,{idToken:e}),i=yield ze._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return a(this,null,function*(){if(je(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}let t=yield this.assertedPersistence.getCurrentUser(),i=t,r=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=this.redirectUser?._redirectEventId,o=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===o)&&l?.user&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return E(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return a(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return a(this,null,function*(){try{yield Ln(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=vh()}_delete(){return a(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return a(this,null,function*(){if(je(this.app))return Promise.reject(Pn(this));let t=e?$e(e):null;return t&&E(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return a(this,null,function*(){if(!this._deleted)return e&&E(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>a(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return a(this,null,function*(){return je(this.app)?Promise.reject(Pn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return je(this.app)?Promise.reject(Pn(this)):this.queue(()=>a(this,null,function*(){yield this.assertedPersistence.setPersistence(Ge(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return a(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return a(this,null,function*(){let e=yield Vh(this),t=new Ur(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ae("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return a(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield Sh(this,i)}})}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}_setRedirectUser(e,t){return a(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return a(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ge(e)||this._popupRedirectResolver;E(t,this,"argument-error"),this.redirectPersistenceManager=yield Vn.create(this,[Ge(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return a(this,null,function*(){return this._isInitialized&&(yield this.queue(()=>a(this,null,function*(){}))),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null})}_persistUserIfCurrent(e){return a(this,null,function*(){if(e===this.currentUser)return this.queue(()=>a(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(E(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return a(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return E(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Va(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return a(this,null,function*(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=yield this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let i=yield this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e})}_getAppCheckToken(){return a(this,null,function*(){if(je(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mh(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function Fh(n){return $e(n)}var xn=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=la(t=>this.observer=t)}get next(){return E(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Uh={loadJS(){return a(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hh(n){Uh=n}function Wh(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Bh(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Ge);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function jr(n,e,t,i){return $e(n).onIdTokenChanged(e,t,i)}function zr(n,e,t,i){return $e(n).onAuthStateChanged(e,t,i)}var xv=Wh("rcb"),Fv=new qe(3e4,6e4);var Uv=new qe(2e3,1e4);var Hv=600*1e3;var Wv=new qe(3e4,6e4);var Bv=new qe(5e3,15e3);var $v=encodeURIComponent("fac");var wa="@firebase/auth",Ta="1.12.0";var Wr=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}getToken(e){return a(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){E(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $h(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jh(n){lt(new ce("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=i.options;E(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Va(n)},u=new Hr(i,r,s,c);return Bh(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),lt(new ce("auth-internal",e=>{let t=Fh(e.getProvider("auth").getImmediate());return(i=>new Wr(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ct(wa,Ta,$h(n)),ct(wa,Ta,"esm2020")}var zh=300,jv=na("authIdTokenMaxAge")||zh;function Gh(){return document.getElementsByTagName("head")?.[0]??document}Hh({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=Br("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",Gh().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jh("Browser");function xa(n){return new _e(function(e){var t=zr(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}function Fa(n){return new _e(function(e){var t=jr(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}function ec(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var tc=ec,nc=new j("auth","Firebase",ec());var jn=new Te("@firebase/auth");function Kh(n,...e){jn.logLevel<=T.WARN&&jn.warn(`Auth (${it}): ${n}`,...e)}function Hn(n,...e){jn.logLevel<=T.ERROR&&jn.error(`Auth (${it}): ${n}`,...e)}function te(n,...e){throw gs(n,...e)}function Ke(n,...e){return gs(n,...e)}function ic(n,e,t){let i=Object.assign(Object.assign({},tc()),{[e]:t});return new j("auth","Firebase",i).create(e,{appName:n.name})}function he(n){return ic(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gs(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return nc.create(n,...e)}function v(n,e,...t){if(!n)throw gs(e,...t)}function ue(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Hn(e),new Error(e)}function Pe(n,e){n||ue(e)}function Jr(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Jh(){return Ua()==="http:"||Ua()==="https:"}function Ua(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Yh(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Jh()||Io()||"connection"in navigator)?navigator.onLine:!0}function Xh(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Je=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pe(t>e,"Short delay should be less than long delay!"),this.isMobile=_o()||yo()}get(){return Yh()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function _s(n,e){Pe(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var zn=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Zh={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Qh=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ef=new Je(3e4,6e4);function De(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Oe(s,o,l,c){return a(this,arguments,function*(n,e,t,i,r={}){return rc(n,r,()=>a(null,null,function*(){let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});let _=Rt(Object.assign({key:n.config.apiKey},h)).slice(1),d=yield n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);let I=Object.assign({method:e,headers:d},u);return vo()||(I.referrerPolicy="no-referrer"),n.emulatorConfig&&kt(n.emulatorConfig.host)&&(I.credentials="include"),zn.fetch()(yield sc(n,n.config.apiHost,t,_),I)}))})}function rc(n,e,t){return a(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},Zh),e);try{let r=new Yr(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Un(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Un(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Un(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw Un(n,"user-disabled",o);let h=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ic(n,h,u);te(n,h)}}catch(r){if(r instanceof $)throw r;te(n,"network-request-failed",{message:String(r)})}})}function Jt(s,o,l,c){return a(this,arguments,function*(n,e,t,i,r={}){let u=yield Oe(n,e,t,i,r);return"mfaPendingCredential"in u&&te(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function sc(n,e,t,i){return a(this,null,function*(){let r=`${e}${t}?${i}`,s=n,o=s.config.emulator?_s(n.config,r):`${n.config.apiScheme}://${r}`;return Qh.includes(t)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}function tf(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Yr=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ke(this.auth,"network-request-failed")),ef.get())})}};function Un(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=Ke(n,e,i);return r.customData._tokenResponse=t,r}function Ha(n){return n!==void 0&&n.enterprise!==void 0}var Xr=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tf(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function nf(n,e){return a(this,null,function*(){return Oe(n,"GET","/v2/recaptchaConfig",De(n,e))})}function rf(n,e){return a(this,null,function*(){return Oe(n,"POST","/v1/accounts:delete",e)})}function Gn(n,e){return a(this,null,function*(){return Oe(n,"POST","/v1/accounts:lookup",e)})}function Bt(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function vs(n,e=!1){return a(this,null,function*(){let t=J(n),i=yield t.getIdToken(e),r=Is(i);v(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Bt(Gr(r.auth_time)),issuedAtTime:Bt(Gr(r.iat)),expirationTime:Bt(Gr(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Gr(n){return Number(n)*1e3}function Is(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Hn("JWT malformed, contained fewer than 3 sections"),null;try{let r=mn(t);return r?JSON.parse(r):(Hn("Failed to decode base64 JWT payload"),null)}catch(r){return Hn("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Wa(n){let e=Is(n);return v(e,"internal-error"),v(typeof e.exp<"u","internal-error"),v(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function jt(n,e,t=!1){return a(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof $&&sf(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function sf({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Zr=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>a(this,null,function*(){yield this.iteration()}),t)}iteration(){return a(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var zt=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bt(this.lastLoginAt),this.creationTime=Bt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function qn(n){return a(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield jt(n,Gn(t,{idToken:i}));v(r?.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?oc(s.providerUserInfo):[],l=of(n.providerData,o),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!l?.length,h=c?u:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new zt(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,_)})}function ys(n){return a(this,null,function*(){let e=J(n);yield qn(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function of(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function oc(n){return n.map(e=>{var{providerId:t}=e,i=Ai(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function af(n,e){return a(this,null,function*(){let t=yield rc(n,{},()=>a(null,null,function*(){let i=Rt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=yield sc(n,r,"/v1/token",`key=${s}`),l=yield n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:l,body:i};return n.emulatorConfig&&kt(n.emulatorConfig.host)&&(c.credentials="include"),zn.fetch()(o,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function cf(n,e){return a(this,null,function*(){return Oe(n,"POST","/v2/accounts:revokeToken",De(n,e))})}var $t=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v(typeof e.idToken<"u","internal-error"),v(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wa(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){v(e.length!==0,"internal-error");let t=Wa(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return a(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(v(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return a(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield af(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new n;return i&&(v(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(v(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(v(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ue("not implemented")}};function ke(n,e){v(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Re=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=Ai(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zt(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return a(this,null,function*(){let t=yield jt(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return vs(this,e)}reload(){return ys(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return a(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield qn(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return a(this,null,function*(){if(W(this.auth.app))return Promise.reject(he(this.auth));let e=yield this.getIdToken();return yield jt(this,rf(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,l,c,u,h;let _=(i=t.displayName)!==null&&i!==void 0?i:void 0,d=(r=t.email)!==null&&r!==void 0?r:void 0,I=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,P=(o=t.photoURL)!==null&&o!==void 0?o:void 0,pe=(l=t.tenantId)!==null&&l!==void 0?l:void 0,me=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,ne=(u=t.createdAt)!==null&&u!==void 0?u:void 0,ie=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Me,emailVerified:rn,isAnonymous:zs,providerData:wi,stsTokenManager:Gs}=t;v(Me&&Gs,e,"internal-error");let ml=$t.fromJSON(this.name,Gs);v(typeof Me=="string",e,"internal-error"),ke(_,e.name),ke(d,e.name),v(typeof rn=="boolean",e,"internal-error"),v(typeof zs=="boolean",e,"internal-error"),ke(I,e.name),ke(P,e.name),ke(pe,e.name),ke(me,e.name),ke(ne,e.name),ke(ie,e.name);let Ti=new n({uid:Me,auth:e,email:d,emailVerified:rn,displayName:_,isAnonymous:zs,photoURL:P,phoneNumber:I,tenantId:pe,stsTokenManager:ml,createdAt:ne,lastLoginAt:ie});return wi&&Array.isArray(wi)&&(Ti.providerData=wi.map(gl=>Object.assign({},gl))),me&&(Ti._redirectEventId=me),Ti}static _fromIdTokenResponse(e,t,i=!1){return a(this,null,function*(){let r=new $t;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield qn(s),s})}static _fromGetAccountInfoResponse(e,t,i){return a(this,null,function*(){let r=t.users[0];v(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?oc(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,l=new $t;l.updateFromIdToken(i);let c=new n({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new zt(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var Ba=new Map;function de(n){Pe(n instanceof Function,"Expected a class definition");let e=Ba.get(n);return e?(Pe(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ba.set(n,e),e)}var lf=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return a(this,null,function*(){return!0})}_set(t,i){return a(this,null,function*(){this.storage[t]=i})}_get(t){return a(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return a(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),Qr=lf;function Wn(n,e,t){return`firebase:${n}:${e}:${t}`}var Kn=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=Wn(this.userKey,r.apiKey,s),this.fullPersistenceKey=Wn("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return a(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Gn(this.auth,{idToken:e}).catch(()=>{});return t?Re._fromGetAccountInfoResponse(this.auth,t,e):null}return Re._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return a(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return a(this,null,function*(){if(!t.length)return new n(de(Qr),e,i);let r=(yield Promise.all(t.map(u=>a(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||de(Qr),o=Wn(i,e.config.apiKey,e.name),l=null;for(let u of t)try{let h=yield u._get(o);if(h){let _;if(typeof h=="string"){let d=yield Gn(e,{idToken:h}).catch(()=>{});if(!d)break;_=yield Re._fromGetAccountInfoResponse(e,d,h)}else _=Re._fromJSON(e,h);u!==s&&(l=_),s=u;break}}catch{}let c=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,i):(s=c[0],l&&(yield s._set(o,l.toJSON())),yield Promise.all(t.map(u=>a(null,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,i))})}};function $a(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uc(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ac(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hc(e))return"Blackberry";if(fc(e))return"Webos";if(cc(e))return"Safari";if((e.includes("chrome/")||lc(e))&&!e.includes("edge/"))return"Chrome";if(dc(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function ac(n=N()){return/firefox\//i.test(n)}function cc(n=N()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lc(n=N()){return/crios\//i.test(n)}function uc(n=N()){return/iemobile/i.test(n)}function dc(n=N()){return/android/i.test(n)}function hc(n=N()){return/blackberry/i.test(n)}function fc(n=N()){return/webos/i.test(n)}function Es(n=N()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uf(n=N()){var e;return Es(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function df(){return Eo()&&document.documentMode===10}function pc(n=N()){return Es(n)||dc(n)||fc(n)||hc(n)||/windows phone/i.test(n)||uc(n)}function mc(n,e=[]){let t;switch(n){case"Browser":t=$a(N());break;case"Worker":t=`${$a(N())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${it}/${i}`}var es=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((o,l)=>{try{let c=e(s);o(c)}catch(c){l(c)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return a(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function hf(t){return a(this,arguments,function*(n,e={}){return Oe(n,"GET","/v2/passwordPolicy",De(n,e))})}var ff=6,ts=class{constructor(e){var t,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:ff,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,l;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var ns=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jn(this),this.idTokenSubscription=new Jn(this),this.beforeStateQueue=new es(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=de(t)),this._initializationPromise=this.queue(()=>a(this,null,function*(){var i,r,s;if(!this._deleted&&(this.persistenceManager=yield Kn.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return a(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return a(this,null,function*(){try{let t=yield Gn(this,{idToken:e}),i=yield Re._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return a(this,null,function*(){var t;if(W(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return v(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return a(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return a(this,null,function*(){try{yield qn(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Xh()}_delete(){return a(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return a(this,null,function*(){if(W(this.app))return Promise.reject(he(this));let t=e?J(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return a(this,null,function*(){if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>a(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return a(this,null,function*(){return W(this.app)?Promise.reject(he(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return W(this.app)?Promise.reject(he(this)):this.queue(()=>a(this,null,function*(){yield this.assertedPersistence.setPersistence(de(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return a(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return a(this,null,function*(){let e=yield hf(this),t=new ts(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new j("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return a(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield cf(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return a(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return a(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&de(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=yield Kn.create(this,[de(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return a(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>a(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return a(this,null,function*(){if(e===this.currentUser)return this.queue(()=>a(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(v(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return a(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return a(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return a(this,null,function*(){var e;if(W(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Kh(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Xe(n){return J(n)}var Jn=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=To(t=>this.observer=t)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ni={loadJS(){return a(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pf(n){ni=n}function gc(n){return ni.loadJS(n)}function mf(){return ni.recaptchaEnterpriseScript}function gf(){return ni.gapiScript}function _c(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var is=class{constructor(){this.enterprise=new rs}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},rs=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var _f="recaptcha-enterprise",vc="NO_RECAPTCHA",ss=class{constructor(e){this.type=_f,this.auth=Xe(e)}verify(e="verify",t=!1){return a(this,null,function*(){function i(s){return a(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,l)=>a(null,null,function*(){nf(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{let u=new Xr(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})}))})}function r(s,o,l){let c=window.grecaptcha;Ha(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(vc)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new is().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(l=>{if(!t&&Ha(window.grecaptcha))r(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=mf();c.length!==0&&(c+=l),gc(c).then(()=>{r(l,s,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})})}};function Wt(n,e,t,i=!1,r=!1){return a(this,null,function*(){let s=new ss(n),o;if(r)o=vc;else try{o=yield s.verify(t)}catch{o=yield s.verify(t,!0)}let l=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){let c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){let c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l})}function os(n,e,t,i,r){return a(this,null,function*(){var s,o;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let l=yield Wt(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(l=>a(null,null,function*(){if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Wt(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)}));else if(r==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let l=yield Wt(n,e,t);return i(n,l).catch(c=>a(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield Wt(n,e,t,!1,!0);return i(n,h)}return Promise.reject(c)}))}else{let l=yield Wt(n,e,t,!1,!0);return i(n,l)}else return Promise.reject(r+" provider is not supported.")})}function bs(n,e){let t=yn(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),s=t.getOptions();if(we(s,e??{}))return r;te(r,"already-initialized")}return t.initialize({options:e})}function vf(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(de);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function ws(n,e,t){let i=Xe(n);v(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,s=Ic(e),{host:o,port:l}=If(e),c=l===null?"":`:${l}`,u={url:`${s}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){v(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),v(we(u,i.config.emulator)&&we(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,kt(o)?(mo(`${s}//${o}${c}`),go("Auth",!0)):r||yf()}function Ic(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function If(n){let e=Ic(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:ja(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:ja(o)}}}function ja(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function yf(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Gt=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ue("not implemented")}_getIdTokenResponse(e){return ue("not implemented")}_linkToIdToken(e,t){return ue("not implemented")}_getReauthenticationResolver(e){return ue("not implemented")}};function Ef(n,e){return a(this,null,function*(){return Oe(n,"POST","/v1/accounts:signUp",e)})}function bf(n,e){return a(this,null,function*(){return Jt(n,"POST","/v1/accounts:signInWithPassword",De(n,e))})}function wf(n,e){return a(this,null,function*(){return Jt(n,"POST","/v1/accounts:signInWithEmailLink",De(n,e))})}function Tf(n,e){return a(this,null,function*(){return Jt(n,"POST","/v1/accounts:signInWithEmailLink",De(n,e))})}var qt=class n extends Gt{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return a(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return os(e,t,"signInWithPassword",bf,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return wf(e,{email:this._email,oobCode:this._password});default:te(e,"internal-error")}})}_linkToIdToken(e,t){return a(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return os(e,i,"signUpPassword",Ef,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Tf(e,{idToken:t,email:this._email,oobCode:this._password});default:te(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function qr(n,e){return a(this,null,function*(){return Jt(n,"POST","/v1/accounts:signInWithIdp",De(n,e))})}function Cf(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Af(n){let e=tt(nt(n)).link,t=e?tt(nt(e)).deep_link_id:null,i=tt(nt(n)).deep_link_id;return(i?tt(nt(i)).link:null)||i||t||e||n}var Yn=class n{constructor(e){var t,i,r,s,o,l;let c=tt(nt(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,h=(i=c.oobCode)!==null&&i!==void 0?i:null,_=Cf((r=c.mode)!==null&&r!==void 0?r:null);v(u&&h&&_,"argument-error"),this.apiKey=u,this.operation=_,this.code=h,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){let t=Af(e);try{return new n(t)}catch{return null}}};var yc=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return qt._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=Yn.parseLink(i);return v(r,"argument-error"),qt._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Xn=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var as=class extends Xn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Sf(n,e){return a(this,null,function*(){return Jt(n,"POST","/v1/accounts:signUp",De(n,e))})}var ut=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return a(this,null,function*(){let s=yield Re._fromIdTokenResponse(e,i,r),o=za(i);return new n({user:s,providerId:o,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return a(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=za(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function za(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var cs=class n extends ${constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function Ec(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cs._fromErrorAndOperation(n,s,e,i):s})}function kf(n,e,t=!1){return a(this,null,function*(){let i=yield jt(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ut._forOperation(n,"link",i)})}function Rf(n,e,t=!1){return a(this,null,function*(){let{auth:i}=n;if(W(i.app))return Promise.reject(he(i));let r="reauthenticate";try{let s=yield jt(n,Ec(i,r,e,n),t);v(s.idToken,i,"internal-error");let o=Is(s.idToken);v(o,i,"internal-error");let{sub:l}=o;return v(n.uid===l,i,"user-mismatch"),ut._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&te(i,"user-mismatch"),s}})}function bc(n,e,t=!1){return a(this,null,function*(){if(W(n.app))return Promise.reject(he(n));let i="signIn",r=yield Ec(n,i,e),s=yield ut._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s})}function Ts(n,e){return a(this,null,function*(){return bc(Xe(n),e)})}function wc(n){return a(this,null,function*(){let e=Xe(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Cs(n,e,t){return a(this,null,function*(){if(W(n.app))return Promise.reject(he(n));let i=Xe(n),o=yield os(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sf,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&wc(n),c}),l=yield ut._fromIdTokenResponse(i,"signIn",o);return yield i._updateCurrentUser(l.user),l})}function As(n,e,t){return W(n.app)?Promise.reject(he(n)):Ts(J(n),yc.credential(e,t)).catch(i=>a(null,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&wc(n),i}))}function Ss(n,e,t,i){return J(n).onIdTokenChanged(e,t,i)}function ks(n,e,t){return J(n).beforeAuthStateChanged(e,t)}function Rs(n){return J(n).signOut()}var Zn="__sak";var Qn=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zn,"1"),this.storage.removeItem(Zn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Pf=1e3,Df=10,Of=(()=>{class n extends Qn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pc(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((l,c,u)=>{this.notifyListeners(l,u)});return}let r=t.key;i?this.detachListener():this.stopPolling();let s=()=>{let l=this.storage.getItem(r);!i&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);df()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Df):s()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Pf)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return a(this,null,function*(){yield ge(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return a(this,null,function*(){let i=yield ge(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return a(this,null,function*(){yield ge(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Tc=Of;var Nf=(()=>{class n extends Qn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),Ps=Nf;function Mf(n){return Promise.all(n.map(e=>a(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Lf=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return a(this,null,function*(){let i=t,{eventId:r,eventType:s,data:o}=i.data,l=this.handlersMap[s];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(l).map(h=>a(this,null,function*(){return h(i.origin,o)})),u=yield Mf(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Cc(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var ls=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return a(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{let u=Cc("",20);r.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(_){let d=_;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(d.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ee(){return window}function Vf(n){ee().location.href=n}function Ac(){return typeof ee().WorkerGlobalScope<"u"&&typeof ee().importScripts=="function"}function xf(){return a(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Ff(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Uf(){return Ac()?self:null}var Sc="firebaseLocalStorageDb",Hf=1,ei="firebaseLocalStorage",kc="fbase_key",Ye=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ii(n,e){return n.transaction([ei],e?"readwrite":"readonly").objectStore(ei)}function Wf(){let n=indexedDB.deleteDatabase(Sc);return new Ye(n).toPromise()}function us(){let n=indexedDB.open(Sc,Hf);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(ei,{keyPath:kc})}catch(r){t(r)}}),n.addEventListener("success",()=>a(null,null,function*(){let i=n.result;i.objectStoreNames.contains(ei)?e(i):(i.close(),yield Wf(),e(yield us()))}))})}function Ga(n,e,t){return a(this,null,function*(){let i=ii(n,!0).put({[kc]:e,value:t});return new Ye(i).toPromise()})}function Bf(n,e){return a(this,null,function*(){let t=ii(n,!1).get(e),i=yield new Ye(t).toPromise();return i===void 0?null:i.value})}function qa(n,e){let t=ii(n,!0).delete(e);return new Ye(t).toPromise()}var $f=800,jf=3,zf=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return a(this,null,function*(){return this.db?this.db:(this.db=yield us(),this.db)})}_withRetries(t){return a(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>jf)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return a(this,null,function*(){return Ac()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return a(this,null,function*(){this.receiver=Lf._getInstance(Uf()),this.receiver._subscribe("keyChanged",(t,i)=>a(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>a(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return a(this,null,function*(){var t,i;if(this.activeServiceWorker=yield xf(),!this.activeServiceWorker)return;this.sender=new ls(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return a(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Ff()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return a(this,null,function*(){try{if(!indexedDB)return!1;let t=yield us();return yield Ga(t,Zn,"1"),yield qa(t,Zn),!0}catch{}return!1})}_withPendingWrite(t){return a(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return a(this,null,function*(){return this._withPendingWrite(()=>a(this,null,function*(){return yield this._withRetries(r=>Ga(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return a(this,null,function*(){let i=yield this._withRetries(r=>Bf(r,t));return this.localCache[t]=i,i})}_remove(t){return a(this,null,function*(){return this._withPendingWrite(()=>a(this,null,function*(){return yield this._withRetries(i=>qa(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return a(this,null,function*(){let t=yield this._withRetries(s=>{let o=ii(s,!1).getAll();return new Ye(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>a(this,null,function*(){return this._poll()}),$f)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Rc=zf;var My=_c("rcb"),Ly=new Je(3e4,6e4);function Gf(n,e){return e?de(e):(v(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Kt=class extends Gt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qr(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function qf(n){return bc(n.auth,new Kt(n),n.bypassAuthState)}function Kf(n){let{auth:e,user:t}=n;return v(t,e,"internal-error"),Rf(t,new Kt(n),n.bypassAuthState)}function Jf(n){return a(this,null,function*(){let{auth:e,user:t}=n;return v(t,e,"internal-error"),kf(t,new Kt(n),n.bypassAuthState)})}var ds=class{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>a(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return a(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(l)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qf;case"linkViaPopup":case"linkViaRedirect":return Jf;case"reauthViaPopup":case"reauthViaRedirect":return Kf;default:te(this.auth,"internal-error")}}resolve(e){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Vy=new Je(2e3,1e4);var Yf="pendingRedirect",Bn=new Map,hs=class n extends ds{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return a(this,null,function*(){let e=Bn.get(this.auth._key());if(!e){try{let i=(yield Xf(this.resolver,this.auth))?yield ge(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Bn.set(this.auth._key(),e)}return this.bypassAuthState||Bn.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return a(this,null,function*(){if(e.type==="signInViaRedirect")return ge(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,ge(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return a(this,null,function*(){})}cleanUp(){}};function Xf(n,e){return a(this,null,function*(){let t=ep(e),i=Qf(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function Zf(n,e){Bn.set(n._key(),e)}function Qf(n){return de(n._redirectPersistence)}function ep(n){return Wn(Yf,n.config.apiKey,n.name)}function tp(n,e,t=!1){return a(this,null,function*(){if(W(n.app))return Promise.reject(he(n));let i=Xe(n),r=Gf(i,e),o=yield new hs(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var np=600*1e3,fs=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ip(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Pc(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ke(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=np&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ka(e))}saveEventToCache(e){this.cachedEventUids.add(Ka(e)),this.lastProcessedEventTime=Date.now()}};function Ka(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Pc({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function ip(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pc(n);default:return!1}}function rp(t){return a(this,arguments,function*(n,e={}){return Oe(n,"GET","/v1/projects",e)})}var sp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,op=/^https?/;function ap(n){return a(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield rp(n);for(let t of e)try{if(cp(t))return}catch{}te(n,"unauthorized-domain")})}function cp(n){let e=Jr(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!op.test(t))return!1;if(sp.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var lp=new Je(3e4,6e4);function Ja(){let n=ee().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function up(n){return new Promise((e,t)=>{var i,r,s;function o(){Ja(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ja(),t(Ke(n,"network-request-failed"))},timeout:lp.get()})}if(!((r=(i=ee().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=ee().gapi)===null||s===void 0)&&s.load)o();else{let l=_c("iframefcb");return ee()[l]=()=>{gapi.load?o():t(Ke(n,"network-request-failed"))},gc(`${gf()}?onload=${l}`).catch(c=>t(c))}}).catch(e=>{throw $n=null,e})}var $n=null;function dp(n){return $n=$n||up(n),$n}var hp=new Je(5e3,15e3),fp="__/auth/iframe",pp="emulator/auth/iframe",mp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _p(n){let e=n.config;v(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?_s(e,pp):`https://${n.config.authDomain}/${fp}`,i={apiKey:e.apiKey,appName:n.name,v:it},r=gp.get(n.config.apiHost);r&&(i.eid=r);let s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Rt(i).slice(1)}`}function vp(n){return a(this,null,function*(){let e=yield dp(n),t=ee().gapi;return v(t,n,"internal-error"),e.open({where:document.body,url:_p(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mp,dontclear:!0},i=>new Promise((r,s)=>a(null,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=Ke(n,"network-request-failed"),l=ee().setTimeout(()=>{s(o)},hp.get());function c(){ee().clearTimeout(l),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var Ip={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yp=500,Ep=600,bp="_blank",wp="http://localhost",ti=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Tp(n,e,t,i=yp,r=Ep){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),l="",c=Object.assign(Object.assign({},Ip),{width:i.toString(),height:r.toString(),top:s,left:o}),u=N().toLowerCase();t&&(l=lc(u)?bp:t),ac(u)&&(e=e||wp,c.scrollbars="yes");let h=Object.entries(c).reduce((d,[I,P])=>`${d}${I}=${P},`,"");if(uf(u)&&l!=="_self")return Cp(e||"",l),new ti(null);let _=window.open(e||"",l,h);v(_,n,"popup-blocked");try{_.focus()}catch{}return new ti(_)}function Cp(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var Ap="__/auth/handler",Sp="emulator/auth/handler",kp=encodeURIComponent("fac");function Ya(n,e,t,i,r,s){return a(this,null,function*(){v(n.config.authDomain,n,"auth-domain-config-required"),v(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:it,eventId:r};if(e instanceof Xn){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",wo(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,_]of Object.entries(s||{}))o[h]=_}if(e instanceof as){let h=e.getScopes().filter(_=>_!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);let l=o;for(let h of Object.keys(l))l[h]===void 0&&delete l[h];let c=yield n._getAppCheckToken(),u=c?`#${kp}=${encodeURIComponent(c)}`:"";return`${Rp(n)}?${Rt(l).slice(1)}${u}`})}function Rp({config:n}){return n.emulator?_s(n,Sp):`https://${n.authDomain}/${Ap}`}var Kr="webStorageSupport",ps=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ps,this._completeRedirectFn=tp,this._overrideRedirectResult=Zf}_openPopup(e,t,i,r){return a(this,null,function*(){var s;Pe((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Ya(e,t,i,Jr(),r);return Tp(e,o,Cc())})}_openRedirect(e,t,i,r){return a(this,null,function*(){yield this._originValidation(e);let s=yield Ya(e,t,i,Jr(),r);return Vf(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(Pe(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return a(this,null,function*(){let t=yield vp(e),i=new fs(e);return t.register("authEvent",r=>(v(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kr,{type:Kr},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[Kr];o!==void 0&&t(!!o),te(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ap(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pc()||cc()||Es()}},Dc=ps;var Xa="@firebase/auth",Za="1.10.8";var ms=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return a(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Pp(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Dp(n){oe(new F("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=i.options;v(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mc(n)},u=new ns(i,r,s,c);return vf(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),oe(new F("auth-internal",e=>{let t=Xe(e.getProvider("auth").getImmediate());return(i=>new ms(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),D(Xa,Za,Pp(n)),D(Xa,Za,"esm2017")}var Op=300,Np=Yi("authIdTokenMaxAge")||Op,Qa=null,Mp=n=>e=>a(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Np)return;let r=t?.token;Qa!==r&&(Qa=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Ds(n=Ot()){let e=yn(n,"auth");if(e.isInitialized())return e.getImmediate();let t=bs(n,{popupRedirectResolver:Dc,persistence:[Rc,Tc,Ps]}),i=Yi("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=Mp(s.toString());ks(t,o,()=>o(t.currentUser)),Ss(t,l=>o(l))}}let r=po("auth");return r&&ws(t,`http://${r}`),t}function Lp(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}pf({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=Ke("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",Lp().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Dp("Browser");var Oc="auth",fe=class{constructor(e){return e}},Os=class{constructor(){return wn(Oc)}};var Ns=new q("angularfire2.auth-instances");function Tm(n,e){let t=hr(Oc,n,e);return t&&new fe(t)}function Cm(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new fe(i)}}var Am={provide:Os,deps:[[new Ve,Ns]]},Sm={provide:fe,useFactory:Tm,deps:[[new Ve,Ns],Be]};function Nc(n,...e){return D("angularfire",st.full,"auth"),on([Sm,Am,{provide:Ns,useFactory:Cm(n),multi:!0,deps:[Ie,Le,ot,Nt,[new Ve,Cn],...e]}])}var Mc=Z(xa,!0);var Lc=Z(Fa,!0);var Vc=Z(Cs,!0,2);var xc=Z(Ds,!0);var Fc=Z(As,!0,2);var Uc=Z(Rs,!0,2);var Hc={apiKey:"AIzaSyBWVBAQe6ETEBFF7o9H9Jm17pLmdr4zrLM",authDomain:"lifeflowapp-b999c.firebaseapp.com",projectId:"lifeflowapp-b999c",storageBucket:"lifeflowapp-b999c.firebasestorage.app",messagingSenderId:"1038386537433",appId:"1:1038386537433:web:e3f404571949e05458afc8"};var ri=class n{constructor(e){this.langService=e}destroy$=new L;currentLang=null;ngOnInit(){this.langService.lang$.pipe(U(this.destroy$)).subscribe(e=>{this.currentLang=e})}scrollTo(e){let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(y(x))};static \u0275cmp=O({type:n,selectors:[["app-title-page"]],decls:17,vars:3,consts:[[1,"container"],[1,"title-box-green","bg-color","my-6","p-5"],[1,"row","justify-content-center","align-items-center","g-3"],[1,"col-md-8"],[1,"col-md-4","mb-4","text-center"],["src","assets/basil-smile.png","width","250","height","250",1,"img-setting-title"],[1,"container","position-move-up"],[1,"row","justify-content-center"],[1,"col-12","col-md-6"],[1,"card","border-light","text-center"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(t,i){t&1&&(Et(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),m(5),bt()(),Et(6,"div",4),to(7,"img",5),bt()()()(),Et(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"h5",11),m(14),bt(),Et(15,"p",12),m(16),bt()()()()()()),t&2&&(g(5),w(" ",i.currentLang==="en"?"No magic. But clarity, inner peace, and confidence - through deep self-understanding.":"Keine Magie. Aber Klarheit, innere Ruhe und Selbstvertrauen - durch tiefe Selbstkenntnis."," "),g(9),w(" ",i.currentLang==="en"?"Hi, I am Basil":"Hi, ich bin Basil"," "),g(2),w(" ",i.currentLang==="en"?"As a mentor, I guide ambitious people to clarify their values, build self-awareness, and play to their strengths, toward a clear direction, fulfillment, and inner peace in this hectic and ever-changing world.":"Als Mentor begleite ich ambitionierte Menschen dabei, ihre Werte zu kl\xE4ren, Selbstbewusstsein aufzubauen und ihre St\xE4rken einzusetzen, f\xFCr eine klare Richtung, mehr Erf\xFCllung und innere Ruhe in dieser hektischen und sich stetig wandelnden Welt."," "))},dependencies:[H],styles:[".center-elements[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.img-setting-title[_ngcontent-%COMP%]{box-shadow:0 20px 40px #0d1b2a;margin:1rem;border-radius:50%}.position-move-up[_ngcontent-%COMP%]{position:relative;top:-3rem}"]})};var si=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=O({type:n,selectors:[["app-newsletter-banner"]],decls:6,vars:0,consts:[[1,"text-center","bg-light","background-layer-newsletter"],[1,"row","justify-content-center","align-items-center","g-3",2,"min-height","200px"],[1,"col-12","col-md-6","gradient-title-newsletterbanner"],[1,"col-auto"],[1,"btn","pulse-btn-yellow",2,"border-radius","12px"]],template:function(t,i){t&1&&(f(0,"div",0)(1,"div",1),A(2,"div",2),f(3,"div",3)(4,"a",4),A(5,"app-cta-email-course"),p()()()())},dependencies:[fn],styles:['.background-layer-newsletter[_ngcontent-%COMP%]{height:100%;width:100%;z-index:-2;background:url("./media/background-7YKRRDUS.jpg") center/cover no-repeat}']})};var Rm=n=>["/",n,"click"],Pm=n=>["/",n,"app"],Dm=n=>["/",n,"course"],Om=n=>["/",n,"1-1"];function Nm(n,e){n&1&&(m(0," LifeFlow Newsletter\u2122 - "),f(1,"span",13),m(2,"Free"),p())}function Mm(n,e){n&1&&(m(0," LifeFlow Newsletter\u2122 - "),f(1,"span",13),m(2,"Kostenlos"),p())}function Lm(n,e){n&1&&(m(0," LifeFlowCheck\u2122 - "),f(1,"span",13),m(2,"Free"),p())}function Vm(n,e){n&1&&(m(0," LifeFlowCheck\u2122 - "),f(1,"span",13),m(2,"Kostenlos"),p())}function xm(n,e){n&1&&(m(0," LifeFlow Self-discovery Course\u2122 - "),f(1,"span"),m(2,"Coming soon"),p())}function Fm(n,e){n&1&&(m(0," LifeFlow Self-discovery Course\u2122 - "),f(1,"span"),m(2,"Kommt bald"),p())}function Um(n,e){n&1&&(f(0,"span"),m(1,"LifeFlow 1:1\u2122"),p())}function Hm(n,e){n&1&&(f(0,"span"),m(1,"LifeFlow 1:1\u2122"),p())}var oi=class n{constructor(e){this.langService=e}destroy$=new L;currentLang=null;ngOnInit(){this.langService.lang$.pipe(U(this.destroy$)).subscribe(e=>{this.currentLang=e})}scrollTo(e){let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}scrollToTop(){window.scrollTo({top:20,behavior:"smooth"})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(y(x))};static \u0275cmp=O({type:n,selectors:[["app-landingpage"]],decls:50,vars:24,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"my-0","w-75",2,"border-color","#0f4f45","opacity","1"],[1,"row","justify-content-center","mb-5"],[2,"margin-top","8rem"],[1,"col-12","col-md-10"],[1,"card","border-light","text-center"],[1,"card-body","img-setting"],[1,"m-4","p-4"],[1,"card-title"],[1,"card-text"],[1,"btn","pulse-btn-yellow",2,"border-radius","12px",3,"click","routerLink"],[1,"card","border-light","text-center","mb-5"],[1,"highlight-marker-yellow"]],template:function(t,i){t&1&&(A(0,"app-title-page"),f(1,"div",0)(2,"div",1),A(3,"hr",2),p()(),f(4,"div",3)(5,"div",4)(6,"div",0)(7,"div",3)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"h5",9),xe(13,Nm,3,0)(14,Mm,3,0),p(),f(15,"p",10),m(16),p(),f(17,"a",11),S("click",function(){return i.scrollToTop()}),m(18),p()(),f(19,"div",8)(20,"h5",9),xe(21,Lm,3,0)(22,Vm,3,0),p(),f(23,"p",10),m(24),p(),f(25,"a",11),S("click",function(){return i.scrollToTop()}),m(26),p()()()()()(),f(27,"div",1)(28,"div",5)(29,"div",12)(30,"div",7)(31,"h5",9),xe(32,xm,3,0)(33,Fm,3,0),p(),f(34,"p",10),m(35),p(),f(36,"a",11),S("click",function(){return i.scrollToTop()}),m(37),p()()()(),f(38,"div",1)(39,"div",5)(40,"div",12)(41,"div",7)(42,"h5",9),xe(43,Um,2,0,"span")(44,Hm,2,0,"span"),p(),f(45,"p",10),m(46),p(),f(47,"a",11),S("click",function(){return i.scrollToTop()}),m(48),p()()()()()()()()(),A(49,"app-newsletter-banner")),t&2&&(g(13),Fe(i.currentLang==="en"?13:14),g(3),w(" ",i.currentLang==="en"?"Learn the tactics & mindset to build a fulfilling and joyful life.":"Lerne die Taktiken und das Mindset f\xFCr ein erf\xFCllendes und freudvolles Leben."," "),g(),k("routerLink",M(16,Rm,i.currentLang)),g(),w(" ",i.currentLang==="en"?"Discover more":"Mehr erfahren"," "),g(3),Fe(i.currentLang==="en"?21:22),g(3),w(" ",i.currentLang==="en"?"A quick check-in to unlock your potential, and boost your flow, balance & energy.":"Ein kurzer Check-in, der dir hilft, dein Potenzial zu entdecken, f\xFCr mehr Flow, Balance und Energie."," "),g(),k("routerLink",M(18,Pm,i.currentLang)),g(),w(" ",i.currentLang==="en"?"Discover more":"Mehr erfahren"," "),g(6),Fe(i.currentLang==="en"?32:33),g(3),w(" ",i.currentLang==="en"?"A practical self-discovery course that teaches you the fundamentals of your inner system, helping you make better decisions, find direction in your life, and live a more authentic and fulfilling life.":"Ein praxisnaher Selbstentdeckungs-Kurs, der dir die Grundlagen deines inneren Systems vermittelt und dich dabei unterst\xFCtzt, bessere Entscheidungen zu treffen, Orientierung in deinem Leben zu finden und ein authentischeres, erf\xFCllteres Leben zu f\xFChren."," "),g(),k("routerLink",M(20,Dm,i.currentLang)),g(),w(" ",i.currentLang==="en"?"Discover more":"Mehr erfahren"," "),g(6),Fe(i.currentLang==="en"?43:44),g(3),w(" ",i.currentLang==="en"?"TIME TO DIVE DEEPER; LifeFlow Coaching & Mentoring\u2122 is a structured 1:1 program that helps you find inner peace, break free from overthinking, and move forward with clarity. Designed for ambitious & time-poor individuals.":`ZEIT, TIEFER EINZUTAUCHEN; LifeFlow Coaching & Mentoring\u2122 ist ein strukturiertes 1:1-Programm, das dir hilft, innere Ruhe zu finden, aus dem Gedankenkarussell auszusteigen und mit Klarheit voranzugehen.
Es wurde f\xFCr ambitionierte Menschen mit wenig Zeit entwickelt.`," "),g(),k("routerLink",M(22,Om,i.currentLang)),g(),w(" ",i.currentLang==="en"?"Discover more":"Mehr erfahren"," "))},dependencies:[H,et,Qe,ri,si],styles:[".highlight-marker-yellow[_ngcontent-%COMP%]{background:#ffe866;padding:.25rem;border-radius:6px}.highlight-marker-orange[_ngcontent-%COMP%]{background:#ffb74d;padding:.25rem;border-radius:6px}.highlight-marker-green[_ngcontent-%COMP%]{background:#a5d66e;padding:.25rem;border-radius:6px}"]})};var Jc=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(y(Vi),y(Li))};static \u0275dir=B({type:n})}return n})(),Wm=(()=>{class n extends Jc{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Mi(n)))(r||n)}})();static \u0275dir=B({type:n,features:[ye]})}return n})(),Yc=new q("");var Bm={provide:Yc,useExisting:gt(()=>gi),multi:!0};function $m(){let n=$i()?$i().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var jm=new q(""),gi=(()=>{class n extends Jc{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!$m())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(y(Vi),y(Li),y(jm,8))};static \u0275dir=B({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&S("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},standalone:!1,features:[Ct([Bm]),ye]})}return n})();function zm(n){return n==null||Gm(n)===0}function Gm(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Vs=new q(""),Xc=new q("");function qm(n){return zm(n.value)?{required:!0}:null}function Wc(n){return null}function Zc(n){return n!=null}function Qc(n){return eo(n)?Ri(n):n}function el(n){let e={};return n.forEach(t=>{e=t!=null?b(b({},e),t):e}),Object.keys(e).length===0?null:e}function tl(n,e){return e.map(t=>t(n))}function Km(n){return!n.validate}function nl(n){return n.map(e=>Km(e)?e:t=>e.validate(t))}function Jm(n){if(!n)return null;let e=n.filter(Zc);return e.length==0?null:function(t){return el(tl(t,e))}}function xs(n){return n!=null?Jm(nl(n)):null}function Ym(n){if(!n)return null;let e=n.filter(Zc);return e.length==0?null:function(t){let i=tl(t,e).map(Qc);return Js(i).pipe(sn(el))}}function Fs(n){return n!=null?Ym(nl(n)):null}function Bc(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Xm(n){return n._rawValidators}function Zm(n){return n._rawAsyncValidators}function Ms(n){return n?Array.isArray(n)?n:[n]:[]}function li(n,e){return Array.isArray(n)?n.includes(e):n===e}function $c(n,e){let t=Ms(e);return Ms(n).forEach(r=>{li(t,r)||t.push(r)}),t}function jc(n,e){return Ms(e).filter(t=>!li(n,t))}var ui=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xs(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fs(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ft=class extends ui{name;get formDirective(){return null}get path(){return null}},nn=class extends ui{_parent=null;name=null;valueAccessor=null},di=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Qm={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},eb=R(b({},Qm),{"[class.ng-submitted]":"isSubmitted"}),il=(()=>{class n extends di{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(y(nn,2))};static \u0275dir=B({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Tt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[ye]})}return n})(),rl=(()=>{class n extends di{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(y(ft,10))};static \u0275dir=B({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Tt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[ye]})}return n})();var Xt="VALID",ci="INVALID",dt="PENDING",Zt="DISABLED",Ne=class{},hi=class extends Ne{value;source;constructor(e,t){super(),this.value=e,this.source=t}},en=class extends Ne{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},tn=class extends Ne{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ht=class extends Ne{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Ls=class extends Ne{source;constructor(e){super(),this.source=e}},fi=class extends Ne{source;constructor(e){super(),this.source=e}};function sl(n){return(_i(n)?n.validators:n)||null}function eg(n){return Array.isArray(n)?xs(n):n||null}function ol(n,e){return(_i(e)?e.asyncValidators:n)||null}function tg(n){return Array.isArray(n)?Fs(n):n||null}function _i(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ng(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new mt(1e3,"");if(!i[t])throw new mt(1001,"")}function ig(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new mt(1002,"")})}var pi=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ee(this.statusReactive)}set status(e){Ee(()=>this.statusReactive.set(e))}_status=At(()=>this.statusReactive());statusReactive=ve(void 0);get valid(){return this.status===Xt}get invalid(){return this.status===ci}get pending(){return this.status==dt}get disabled(){return this.status===Zt}get enabled(){return this.status!==Zt}errors;get pristine(){return Ee(this.pristineReactive)}set pristine(e){Ee(()=>this.pristineReactive.set(e))}_pristine=At(()=>this.pristineReactive());pristineReactive=ve(!0);get dirty(){return!this.pristine}get touched(){return Ee(this.touchedReactive)}set touched(e){Ee(()=>this.touchedReactive.set(e))}_touched=At(()=>this.touchedReactive());touchedReactive=ve(!1);get untouched(){return!this.touched}_events=new L;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($c(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($c(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(jc(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(jc(e,this._rawAsyncValidators))}hasValidator(e){return li(this._rawValidators,e)}hasAsyncValidator(e){return li(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(R(b({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new tn(!0,i))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new tn(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(R(b({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new en(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new en(!0,i))}markAsPending(e={}){this.status=dt;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ht(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(R(b({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zt,this.errors=null,this._forEachChild(r=>{r.disable(R(b({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hi(this.value,i)),this._events.next(new ht(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(R(b({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Xt,this._forEachChild(i=>{i.enable(R(b({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(R(b({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xt||this.status===dt)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hi(this.value,t)),this._events.next(new ht(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(R(b({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zt:Xt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=dt,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let i=Qc(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new ht(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new yt,this.statusChanges=new yt}_calculateStatus(){return this._allControlsDisabled()?Zt:this.errors?ci:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dt)?dt:this._anyControlsHaveStatus(ci)?ci:Xt}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new en(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new tn(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_i(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=eg(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=tg(this._rawAsyncValidators)}},mi=class extends pi{constructor(e,t,i){super(sl(t),ol(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ig(this,!0,e),Object.keys(e).forEach(i=>{ng(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new fi(this))}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Us=new q("",{providedIn:"root",factory:()=>Hs}),Hs="always";function rg(n,e){return[...e.path,n]}function al(n,e,t=Hs){cl(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),og(n,e),cg(n,e),ag(n,e),sg(n,e)}function zc(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function sg(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function cl(n,e){let t=Xm(n);e.validator!==null?n.setValidators(Bc(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=Zm(n);e.asyncValidator!==null?n.setAsyncValidators(Bc(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();zc(e._rawValidators,r),zc(e._rawAsyncValidators,r)}function og(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ll(n,e)})}function ag(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ll(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function ll(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cg(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function lg(n,e){n==null,cl(n,e)}function ug(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function dg(n){return Object.getPrototypeOf(n.constructor)===Wm}function hg(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function fg(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===gi?t=s:dg(s)?i=s:r=s}),r||i||t||null}var pg={provide:ft,useExisting:gt(()=>Ws)},Qt=Promise.resolve(),Ws=(()=>{class n extends ft{callSetDisabledState;get submitted(){return Ee(this.submittedReactive)}_submitted=At(()=>this.submittedReactive());submittedReactive=ve(!1);_directives=new Set;form;ngSubmit=new yt;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new mi({},xs(t),Fs(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Qt.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),al(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Qt.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Qt.then(()=>{let i=this._findContainer(t.path),r=new mi({});lg(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Qt.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Qt.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),hg(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Ls(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||n)(y(Vs,10),y(Xc,10),y(Us,8))};static \u0275dir=B({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&S("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ct([pg]),ye]})}return n})();function Gc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function qc(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var mg=class extends pi{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(sl(t),ol(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_i(t)&&(t.nonNullable||t.initialValueIsDefault)&&(qc(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new fi(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Gc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Gc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){qc(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var gg={provide:nn,useExisting:gt(()=>Bs)},Kc=Promise.resolve(),Bs=(()=>{class n extends nn{_changeDetectorRef;callSetDisabledState;control=new mg;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new yt;constructor(t,i,r,s,o,l){super(),this._changeDetectorRef=o,this.callSetDisabledState=l,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=fg(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),ug(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){al(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Kc.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Bi(i);Kc.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?rg(t,this._parent):[t]}static \u0275fac=function(i){return new(i||n)(y(ft,9),y(Vs,10),y(Xc,10),y(Yc,10),y(io,8),y(Us,8))};static \u0275dir=B({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ct([gg]),ye,Ni]})}return n})();var ul=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=B({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var _g=(()=>{class n{_validator=Wc;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Wc,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=B({type:n,features:[Ni]})}return n})();var vg={provide:Vs,useExisting:gt(()=>$s),multi:!0};var $s=(()=>{class n extends _g{required;inputName="required";normalizeInput=Bi;createValidator=t=>qm;enabled(t){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Mi(n)))(r||n)}})();static \u0275dir=B({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&un("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ct([vg]),ye]})}return n})();var Ig=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xi({type:n});static \u0275inj=Di({})}return n})();var dl=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Us,useValue:t.callSetDisabledState??Hs}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=xi({type:n});static \u0275inj=Di({imports:[Ig]})}return n})();var pt=class n{constructor(e,t){this.auth=e;this.langService=t;this.user$=Lc(this.auth),this.user$.subscribe(i=>{this.currentUser.set(i)})}destroy$=new L;user$;currentUser=ve(null);currentLang=null;ngOnInit(){this.langService.lang$.pipe(U(this.destroy$)).subscribe(e=>{this.currentLang=e})}signUp(e,t){return a(this,null,function*(){try{return{success:!0,user:(yield Vc(this.auth,e,t)).user}}catch(i){return{success:!1,error:i.message}}})}login(e,t){return a(this,null,function*(){try{return{success:!0,user:(yield Fc(this.auth,e,t)).user}}catch(i){return{success:!1,error:i.message}}})}logout(){return a(this,null,function*(){try{return yield Uc(this.auth),{success:!0}}catch(e){return{success:!1,error:e.message}}})}isLoggedIn(){return this.currentUser()!==null}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(Oi(fe),Oi(x))};static \u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"root"})};function bg(n,e){if(n&1&&(f(0,"div",12),m(1),p()),n&2){let t=re();g(),w(" ",t.errorMessage," ")}}var vi=class n{constructor(e,t,i,r){this.langService=e;this.authService=t;this.router=i;this.route=r}destroy$=new L;currentLang=null;email="";password="";errorMessage="";isSignUp=!1;ngOnInit(){this.langService.lang$.pipe(U(this.destroy$)).subscribe(e=>{this.currentLang=e})}onSubmit(){return a(this,null,function*(){if(this.errorMessage="",!this.email||!this.password){this.errorMessage="Please fill in all fields";return}let e=this.isSignUp?yield this.authService.signUp(this.email,this.password):yield this.authService.login(this.email,this.password);if(e.success){let t=this.route.snapshot.queryParams.returnUrl||`/${this.currentLang}/course-home`;this.router.navigateByUrl(t)}else this.errorMessage=e.error||"Authentication failed"})}toggleMode(){this.isSignUp=!this.isSignUp,this.errorMessage=""}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(y(x),y(pt),y(be),y(hn))};static \u0275cmp=O({type:n,selectors:[["app-login"]],decls:20,vars:7,consts:[[1,"login-container"],[1,"login-card"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","placeholder","Enter your email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","placeholder","Enter your password","required","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit",1,"btn-primary"],[1,"toggle-mode"],[3,"click"],[1,"error-message"]],template:function(t,i){t&1&&(f(0,"div",0)(1,"div",1)(2,"h2"),m(3),p(),f(4,"form",2),S("ngSubmit",function(){return i.onSubmit()}),f(5,"div",3)(6,"label",4),m(7,"Email"),p(),f(8,"input",5),Hi("ngModelChange",function(s){return Ui(i.email,s)||(i.email=s),s}),p()(),f(9,"div",3)(10,"label",6),m(11,"Password"),p(),f(12,"input",7),Hi("ngModelChange",function(s){return Ui(i.password,s)||(i.password=s),s}),p()(),ln(13,bg,2,1,"div",8),f(14,"button",9),m(15),p()(),f(16,"p",10),m(17),f(18,"a",11),S("click",function(){return i.toggleMode()}),m(19),p()()()()),t&2&&(g(3),K(i.isSignUp?"Sign Up":"Login"),g(5),Fi("ngModel",i.email),g(4),Fi("ngModel",i.password),g(),k("ngIf",i.errorMessage),g(2),w(" ",i.isSignUp?"Sign Up":"Login"," "),g(2),w(" ",i.isSignUp?"Already have an account?":"Don't have an account?"," "),g(2),K(i.isSignUp?"Login":"Sign Up"))},dependencies:[H,dn,dl,ul,gi,il,rl,$s,Bs,Ws],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:#f5f5f5}.login-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 10px #0000001a;width:100%;max-width:400px}.login-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#555;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#0f4f45}.error-message[_ngcontent-%COMP%]{color:#f44336;margin-bottom:1rem;padding:.5rem;background:#ffebee;border-radius:4px;font-size:.9rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#0f4f45;color:#fff;border:none;border-radius:4px;font-size:1rem;font-weight:500;cursor:pointer;transition:background .3s}.btn-primary[_ngcontent-%COMP%]:hover{background:#45a049}.toggle-mode[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;color:#666}.toggle-mode[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0f4f45;cursor:pointer;text-decoration:none;margin-left:.25rem}.toggle-mode[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var js=(n,e)=>{let t=V(fe),i=V(be),r=V(x);return Mc(t).pipe(Ys(1),sn(s=>s?!0:(i.navigate([`/${r.getCurrentLang()}/login`],{queryParams:{returnUrl:e.url}}),!1)))};var fl=[{path:"app",redirectTo:"en/app",pathMatch:"full"},{path:"click",redirectTo:"en/click",pathMatch:"full"},{path:":lang",children:[{path:"",component:oi},{path:"login",component:vi},{path:"course-home",loadComponent:()=>import("./chunk-DGAXZSCB.js").then(n=>n.DashboardComponent),canActivate:[js],canActivateChild:[js]},{path:"app",loadComponent:()=>import("./chunk-BRXN53SD.js").then(n=>n.HomeComponent)},{path:"offer",loadComponent:()=>import("./chunk-HLC7VW36.js").then(n=>n.OfferComponent)},{path:"terms",loadComponent:()=>import("./chunk-UNHMBGGC.js").then(n=>n.TermsandconditionsComponent)},{path:"feedback",loadComponent:()=>import("./chunk-7FAYN2PP.js").then(n=>n.FeedbackpageCoachingSenjaComponent)},{path:"click",loadComponent:()=>import("./chunk-UFQO7QP6.js").then(n=>n.EmailCourseSignupPageComponent)},{path:"1-1",loadComponent:()=>import("./chunk-LVYG4DCA.js").then(n=>n.LandingpageHomeComponent)},{path:"course",loadComponent:()=>import("./chunk-TCZZLZ56.js").then(n=>n.SelfdiscoveryCourseComponent)},{path:"about",loadComponent:()=>import("./chunk-VZ3FCFCD.js").then(n=>n.AboutComponent)},{path:"books",loadComponent:()=>import("./chunk-QCSBEIUZ.js").then(n=>n.BooksComponent)},{path:"clarity",loadComponent:()=>import("./chunk-LVYG4DCA.js").then(n=>n.LandingpageHomeComponent)},{path:"inner-peace",loadComponent:()=>import("./chunk-LVYG4DCA.js").then(n=>n.LandingpageHomeComponent)},{path:"drive",loadComponent:()=>import("./chunk-LVYG4DCA.js").then(n=>n.LandingpageHomeComponent)},{path:"build&be",loadComponent:()=>import("./chunk-GEHEETKM.js").then(n=>n.BuildAndbeComponent)},{path:"privacy-policy",loadComponent:()=>import("./chunk-KKSVV2TP.js").then(n=>n.PrivacyPolicyComponent)},{path:"impressum",loadComponent:()=>import("./chunk-SB22DZQD.js").then(n=>n.ImpressumComponent)}]},{path:"",redirectTo:"en",pathMatch:"full"}];var pl={providers:[no({eventCoalescing:!0}),ao(fl),Wo(()=>Bo(Hc)),Nc(()=>xc())]};function wg(n,e){if(n&1){let t=wt();f(0,"div",1),m(1," Diese Website verwendet Cookies, um sicherzustellen, dass Sie die bestm\xF6gliche Erfahrung auf unserer Website machen. "),A(2,"br"),f(3,"button",2),S("click",function(){vt(t);let r=re();return It(r.acceptCookie())}),m(4,"Akzeptieren"),p()()}}var Ii=class n{cookieAccepted=!1;ngOnInit(){this.cookieAccepted=document.cookie.includes("cookieaccepted=1")}acceptCookie(){let e=new Date(Date.now()+864e5);document.cookie=`cookieaccepted=1; expires=${e.toUTCString()}; path=/`,this.cookieAccepted=!0}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=O({type:n,selectors:[["app-cookie-banner"]],decls:1,vars:1,consts:[["id","cookie-notice",4,"ngIf"],["id","cookie-notice"],[3,"click"]],template:function(t,i){t&1&&ln(0,wg,5,0,"div",0),t&2&&k("ngIf",!i.cookieAccepted)},dependencies:[H,dn],styles:["#cookie-notice[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;background:#0f4f45;padding:15px;position:fixed;bottom:10px;left:50%;transform:translate(-50%);width:90%;max-width:500px;box-shadow:0 10px 20px #0003;border-radius:8px;text-align:center;z-index:1000000;box-sizing:border-box}#cookie-notice[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#000;background:#fff;border:none;padding:10px 15px;border-radius:5px;margin-top:10px;cursor:pointer;font-weight:700;transition:background .3s}#cookie-notice[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f1f1f1}@media only screen and (max-width: 600px){#cookie-notice[_ngcontent-%COMP%]{width:100%;max-width:none;bottom:0;left:0;transform:none;border-radius:0;padding:10px}#cookie-notice[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};var Tg=n=>["/",n],Cg=n=>["/",n,"app"],Ag=n=>["/",n,"1-1"],Sg=n=>["/",n,"books"],kg=n=>["/",n,"about"],Rg=n=>["/",n,"click"];function Pg(n,e){if(n&1){let t=wt();f(0,"li",7)(1,"a")(2,"button",16),S("click",function(){vt(t);let r=re();return It(r.logout())}),f(3,"strong"),m(4),p()()()()}if(n&2){let t=re();g(4),K((t.currentLang==="en","Logout"))}}function Dg(n,e){if(n&1){let t=wt();f(0,"li",7)(1,"a")(2,"button",16),S("click",function(){vt(t);let r=re();return It(r.login())}),f(3,"strong"),m(4),p()()()()}if(n&2){let t=re();g(4),K((t.currentLang==="en","Login"))}}var yi=class n{constructor(e,t,i,r){this.langService=e;this.router=t;this.route=i;this.authService=r}currentLang=null;destroy$=new L;isMenuOpen=!1;ngOnInit(){this.langService.lang$.pipe(U(this.destroy$)).subscribe(e=>{this.currentLang=e})}toggleLanguage(e){this.langService.switchLanguage(e)}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}login(){this.router.navigate([`/${this.currentLang}/login`])}logout(){this.router.navigate([`/${this.currentLang}`]),this.authService.logout()}closeMenu(){this.isMenuOpen=!1}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(y(x),y(be),y(hn),y(pt))};static \u0275cmp=O({type:n,selectors:[["app-header"]],decls:37,vars:28,consts:[[1,"navbar","page-header","navbar-expand-md","fixed-top"],[1,"container-fluid"],["aria-label","Home",1,"navbar-brand","text-light",2,"font-size","1rem",3,"routerLink"],["type","button","aria-controls","mainNavbar","aria-label","Toggle navigation","data-bs-toggle","collapse","data-bs-target","#mainNavbar",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","mainNavbar",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","align-items-center","gap-3"],[1,"nav-item"],["href","https://www.instagram.com/lifeflow.now/","target","_blank","rel","noopener","aria-label","Instagram",1,"nav-link","d-flex","align-items-center"],["src","assets/instagram-icon.svg","alt","Instagram","width","30","height","30"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","custom-item","d-flex","align-items-center","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item"],[1,"nav-link",3,"click","routerLink"],[1,"nav-link","custom-item",3,"routerLink"],["type","button",1,"btn","text-light","custom-item",3,"click"]],template:function(t,i){t&1&&(f(0,"nav",0)(1,"div",1)(2,"a",2),m(3," LifeFlow.Now\u2122 "),p(),f(4,"button",3),S("click",function(){return i.toggleMenu()}),A(5,"span",4),p(),f(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),A(10,"img",9),p()(),f(11,"li",10)(12,"a",11),m(13),p(),f(14,"ul",12)(15,"li",13)(16,"a",14),S("click",function(){return i.closeMenu()}),m(17),p()(),f(18,"li",13)(19,"a",14),S("click",function(){return i.closeMenu()}),m(20),p()(),f(21,"li",13)(22,"a",14),S("click",function(){return i.closeMenu()}),m(23),p()(),f(24,"li",13)(25,"a",14),S("click",function(){return i.closeMenu()}),m(26),p()()()(),f(27,"li",7)(28,"a",15),A(29,"app-cta-email-course"),p()(),f(30,"li",7)(31,"a")(32,"button",16),S("click",function(){return i.toggleLanguage(i.currentLang==="en"?"de":"en"),i.toggleMenu()}),f(33,"strong"),m(34),p()()()(),xe(35,Pg,5,1,"li",7)(36,Dg,5,1,"li",7),p()()()()),t&2&&(g(2),k("routerLink",M(16,Tg,i.currentLang)),g(2),un("aria-expanded",i.isMenuOpen?"true":"false"),g(2),Tt("show",i.isMenuOpen),g(7),w(" ",i.currentLang==="en"?"Discover":"Entdecken"," "),g(3),k("routerLink",M(18,Cg,i.currentLang)),g(),w(" ",(i.currentLang==="en","LifeFlowCheck\u2122")," "),g(2),k("routerLink",M(20,Ag,i.currentLang)),g(),w(" ",(i.currentLang==="en","1-1")," "),g(2),k("routerLink",M(22,Sg,i.currentLang)),g(),w(" ",(i.currentLang==="en","Books")," "),g(2),k("routerLink",M(24,kg,i.currentLang)),g(),w(" ",(i.currentLang==="en","About")," "),g(2),k("routerLink",M(26,Rg,i.currentLang)),g(6),K(i.currentLang==="en"?"DE":"EN"),g(),Fe(i.authService.currentUser()?35:36))},dependencies:[et,Qe,H,fn],styles:[".page-header[_ngcontent-%COMP%]{background-color:#0d1b2a}.custom-item[_ngcontent-%COMP%]{color:#fff;padding:12px;border-radius:12px}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .custom-item[_ngcontent-%COMP%]{position:relative;transition:color .2s ease,transform .2s ease}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:hover{color:#d3af37!important}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.navbar-toggler-icon[_ngcontent-%COMP%]{filter:invert(1)}"]})};var Og=n=>["/",n,"privacy-policy"],Ng=n=>["/",n,"impressum"],Ei=class n{constructor(e){this.langService=e}destroy$=new L;currentLang=null;ngOnInit(){this.langService.lang$.pipe(U(this.destroy$)).subscribe(e=>{this.currentLang=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(y(x))};static \u0275cmp=O({type:n,selectors:[["app-footer"]],decls:32,vars:11,consts:[[1,"page-footer"],[1,"container","mb-4"],[1,"col","s12",2,"display","flex","flex-wrap","wrap","justify-content","center","align-items","center","gap","0.5rem","text-align","center","padding-bottom","1rem","padding-top","1rem"],["href","https://www.instagram.com/lifeflow.now/","target","_blank","aria-label","Instagram"],["src","assets/instagram-icon.svg","alt","Instagram","width","25","height","25"],[1,"footer-copyright"],[1,"container"],[1,"row"],[1,"col-12","col-md-3","fst-italic","fw-lighter","my-2"],[1,"col-12","col-md-2","my-2"],[1,"col-12","col-md-3","my-2"],["href","mailto:basil.jung@lifeflow.now"],[1,"col-12","col-md-4","my-2","d-flex","justify-content-center"],["src","assets/basil-biz.jpg","width","100","height","100",1,"img-setting-title"],[1,"col-12","col-md-6","fst-italic","fw-lighter","my-2"],[1,"col-12","my-2"],[1,"grey-text","text-lighten-4","right",3,"routerLink"],[1,"grey-text","text-lighten-4","right","m-2",3,"routerLink"],[1,"container",2,"display","flex","justify-content","space-between","align-items","center","padding","1rem"]],template:function(t,i){t&1&&(f(0,"footer",0)(1,"div",1)(2,"div",2)(3,"a",3),A(4,"img",4),p(),f(5,"span"),m(6," Simple & clear for you and your mind. \u{1F33F} "),p()()(),f(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"b"),m(12),p(),A(13,"hr"),m(14),p(),A(15,"div",9),f(16,"div",10),m(17," E-Mail: "),f(18,"a",11),m(19,"basil.jung@lifeflow.now"),p()(),f(20,"div",12),A(21,"img",13),p(),f(22,"div",14),m(23),p(),f(24,"div",15)(25,"a",16),m(26),p(),f(27,"a",17),m(28),p()()()(),f(29,"div",18)(30,"span"),m(31,"\xA9 2025 Basil Jung \xB7 All rights reserved"),p()()()()),t&2&&(g(12),w(" ",(i.currentLang==="en","LifeFlow.Now\u2122 by Basil Jung")," "),g(2),w(" ",i.currentLang==="en"?"Integral consciousness development for orientation, inner peace, and joy.":"Integrale Bewusstseinsentwicklung f\xFCr Orientierung, innere Ruhe und Freude."," "),g(9),w(" ",i.currentLang==="en"?"This content supports your personal growth and learning. While coaching can be valuable for development, it doesn't replace professional therapeutic, medical, or psychological services. You're in control of your decisions and actions. For medical or psychological concerns, acute distress, or emergencies, please consult qualified healthcare professionals.":"Dieser Inhalt unterst\xFCtzt Ihr pers\xF6nliches Wachstum und Lernen. Coaching kann wertvoll f\xFCr Ihre Entwicklung sein, ersetzt jedoch keine professionelle therapeutische, medizinische oder psychologische Behandlung. Sie behalten die Kontrolle \xFCber Ihre Entscheidungen und Handlungen. Bei medizinischen oder psychologischen Anliegen, akuten Belastungen oder Notf\xE4llen wenden Sie sich bitte an qualifizierte Fachpersonen."," "),g(2),k("routerLink",M(7,Og,i.currentLang)),g(),K(i.currentLang==="en"?"Privacy":"Datenschutz"),g(),k("routerLink",M(9,Ng,i.currentLang)),g(),K(i.currentLang==="en"?"Imprint":"Impressum"))},dependencies:[H,et,Qe],styles:[".page-footer[_ngcontent-%COMP%]{color:#fff;padding:.5rem;background:#0d1b2a}.img-setting-title[_ngcontent-%COMP%]{box-shadow:0 20px 40px #0d1b2a;margin:1rem;border-radius:50%}"]})};var bi=class n{constructor(e){this.router=e;this.router.events.subscribe(t=>{t instanceof so&&gtag("config","G-DFYEQXV8R9",{page_path:t.urlAfterRedirects})})}static \u0275fac=function(t){return new(t||n)(y(be))};static \u0275cmp=O({type:n,selectors:[["app-root"]],decls:9,vars:0,consts:[[1,"background-layer"],[1,"main-content"]],template:function(t,i){t&1&&(A(0,"div",0),f(1,"div",1)(2,"header"),A(3,"app-header"),p(),f(4,"main"),A(5,"router-outlet"),p(),f(6,"footer"),A(7,"app-footer"),p(),A(8,"app-cookie-banner"),p())},dependencies:[oo,Ei,Ii,yi],styles:[".background-layer[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100%;width:100%;z-index:-2;background:#fff}.main-content[_ngcontent-%COMP%]{position:relative;z-index:0;min-height:100vh;display:flex;flex-direction:column}main.container[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}"]})};ro(bi,pl).catch(n=>console.error(n));
