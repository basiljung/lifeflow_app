@if (results(); as data) {
  @if (data | keyvalue; as resultEntries) {
    @if (resultEntries.length > 0) {
      <div class="container">
        <div style="margin: 2rem">
          <ng-content select="[slot=top]"></ng-content>
        </div>
        <ul class="collapsible" style="border-radius: 12px">
          <ng-container *ngFor="let entry of resultEntries">
            <li>
              <div class="collapsible-header" style="border-radius: 12px">
                <i class="material-icons">psychology</i>
                {{ entry.value?.area | titlecase }}
                <span class="badge" style="color: #1e6f5c"
                  ><span>{{
                    lang() === "EN" ? "👉 View details" : "👉 Details ansehen"
                  }}</span>
                </span>
              </div>
              <div
                class="collapsible-body left-align"
                style="margin: 2rem; padding: 2rem"
              >
                <h5>
                  <span>{{
                    lang() === "EN" ? "🔍  Reason" : "🔍  Ursache"
                  }}</span>
                </h5>
                <ul>
                  <li *ngFor="let reason of entry.value.reasons">
                    ⬩ {{ reason }}
                  </li>
                </ul>
                <div
                  style="
                    border-bottom: 1.5px solid #1e6f5c;
                    margin-top: 2rem;
                    margin-bottom: 2rem;
                    width: 10rem;
                  "
                ></div>

                <h5>
                  <span>{{ lang() === "EN" ? "💡 Tip" : "💡 Tipp" }}</span>
                </h5>
                <ul>
                  <li *ngFor="let tip of entry.value.tips">
                    <strong>{{ tip.title }}</strong
                    ><br />
                    {{ tip.text }}
                  </li>
                </ul>
                <div
                  style="
                    border-bottom: 1.5px solid #1e6f5c;
                    margin-top: 2rem;
                    margin-bottom: 2rem;
                    width: 10rem;
                  "
                ></div>

                <h5>
                  <span>{{ lang() === "EN" ? "✚ Details" : "✚ Details" }}</span>
                </h5>
                <p>{{ entry.value?.input | titlecase }}</p>
              </div>
            </li>
          </ng-container>
        </ul>
      </div>
      <div
        style="
          border-bottom: 3px solid #1e6f5c;
          margin: 3rem auto;
          width: 20rem;
        "
      ></div>
    } @else {
      <div style="margin: 2rem">
        <em>
          <ng-content style="margin: rem" select="[slot=bottom]"></ng-content
        ></em>
      </div>
    }
  }
}
