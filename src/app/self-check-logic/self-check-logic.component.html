<div class="quiz-container">
  @if (showLanguageBtn) {
    <div style="margin-bottom: 5rem">
      <h5>Choose the language and let's go:</h5>
      <div>
        <a
          class="btn-floating btn-large waves-effect waves-light teal"
          style="margin: 1rem"
          (click)="toggleLanguageSelfcheck('EN')"
        >
          <span style="font-weight: bold">EN</span>
        </a>
        <a
          class="btn-floating btn-large waves-effect waves-light teal"
          (click)="toggleLanguageSelfcheck('DE')"
        >
          <span style="font-weight: bold">DE</span>
        </a>
      </div>
    </div>
  }

  @if (showQuestions) {
    <div>
      <div
        class="question-container"
        [ngStyle]="{ opacity: showLanguageBtn ? '0.5' : '1' }"
        style="margin: 2rem; padding: 1rem"
      >
        <p style="font-style: italic">
          {{ currentQuestionIndex + 1 }} / {{ questions.length }}
        </p>
        <h5>{{ questions[currentQuestionIndex].text }}</h5>
      </div>
      @for (
        answer of questions[currentQuestionIndex].answers;
        track answer.text
      ) {
        <button
          style="cursor: pointer"
          [disabled]="showLanguageBtn"
          #btn
          (click)="selectAnswer(answer.effects); btn.blur()"
        >
          {{ answer.text }}
        </button>
      } @empty {
        <li>There are no items.</li>
      }
    </div>
  }

  @if (showResult) {
    @if (currentLangSelfCheck === "EN") {
      <app-display-result
        [results]="resultDataSet.outOfBalance"
        [lang]="currentLangSelfCheck"
      >
        <div slot="top" class="row" style="margin: 0px">
          <div
            class="card"
            style="
              font-weight: 600;
              font-size: large;
              padding: 0.2rem;
              margin: 0px;
            "
          >
            <span> ğŸŒ¿ Your potential for more flow lies here... </span>
          </div>
        </div>
        <div slot="bottom">
          <div class="row" style="margin: 0px">
            <div
              class="card"
              style="
                font-weight: 600;
                font-size: large;
                padding: 0.2rem;
                margin: 0px;
              "
            >
              <span>
                ğŸ‘ Great job â€“ no strongly unbalanced areas detected!
              </span>
              <span>Tell me your secret...</span>
            </div>
          </div>
          <div
            style="
              border-bottom: 1px solid #1e6f5c;
              margin: 3rem auto;
              width: 20rem;
            "
          ></div>
        </div>
      </app-display-result>
      <app-display-result
        [results]="resultDataSet.easyWins"
        [lang]="currentLangSelfCheck"
      >
        <div slot="top" class="row" style="margin: 0px">
          <div
            class="card"
            style="
              font-weight: 600;
              font-size: large;
              padding: 0.2rem;
              margin: 0px;
            "
          >
            <span>
              âš–ï¸ Thereâ€™s potential for more flow here, minor tweaks are enough!
            </span>
          </div>
        </div>
      </app-display-result>
      <app-display-result
        [results]="resultDataSet.lowestAreaPotential"
        [lang]="currentLangSelfCheck"
      >
        <div slot="top" class="row" style="margin: 0px">
          <div
            class="card"
            style="
              font-weight: 600;
              font-size: large;
              padding: 0.2rem;
              margin: 0px;
            "
          >
            <span> â›”ï¸ This area shows the least flow. Do you know why? </span>
          </div>
        </div>
      </app-display-result>
      <app-display-result
        [results]="resultDataSet.goodFlow"
        [lang]="currentLangSelfCheck"
      >
        <div slot="top" class="row" style="margin: 0px">
          <div
            class="card"
            style="
              font-weight: 600;
              font-size: large;
              padding: 0.2rem;
              margin: 0px;
            "
          >
            <span>ğŸŒŸ Congratulation. You're pretty much in flow here!</span>
          </div>
        </div>
      </app-display-result>
      <app-display-result
        [results]="resultDataSet.topAreas"
        [lang]="currentLangSelfCheck"
      >
        <div slot="top" class="row" style="margin: 0px">
          <div
            class="card"
            style="
              font-weight: 600;
              font-size: large;
              padding: 0.2rem;
              margin: 0px;
            "
          >
            <span>ğŸš€ Your strongest area(s) â€“ Would you say thatâ€™s true?</span>
          </div>
        </div>
      </app-display-result>
      <h6>I am very happy to receive feedback.</h6>
      <button
        onclick="window.open('https://forms.gle/dL4LqC9ZxZ2sybog7', '_blank')"
        style="cursor: pointer"
      >
        ğŸ’¡ Feedback
      </button>
      <br />
    } @else {
      <app-display-result
        [results]="resultDataSet.outOfBalance"
        [lang]="currentLangSelfCheck"
      >
        <div slot="top" class="row" style="margin: 0px">
          <div
            class="card"
            style="
              font-weight: 600;
              font-size: large;
              padding: 0.2rem;
              margin: 0px;
            "
          >
            <span>ğŸŒ¿ Dein Potenzial fÃ¼r mehr Flow liegt hier...</span>
          </div>
        </div>
        <div slot="bottom">
          <div class="row" style="margin: 0px">
            <div
              class="card"
              style="
                font-weight: 600;
                font-size: large;
                padding: 0.2rem;
                margin: 0px;
              "
            >
              <span
                >ğŸ‘ Sehr gut â€“ keine stark unausgeglichenen Bereiche
                erkannt!</span
              >
              <span>Verrate mir dein Geheimnis...</span>
            </div>
          </div>
        </div>
      </app-display-result>
      <app-display-result
        [results]="resultDataSet.easyWins"
        [lang]="currentLangSelfCheck"
      >
        <div slot="top" class="row" style="margin: 0px">
          <div
            class="card"
            style="
              font-weight: 600;
              font-size: large;
              padding: 0.2rem;
              margin: 0px;
            "
          >
            <span
              >âš–ï¸ Hier steckt Entwicklungspotenzial fÃ¼r mehr Flow, kleinere
              Anpassungen reichen.</span
            >
          </div>
        </div>
      </app-display-result>
      <app-display-result
        [results]="resultDataSet.lowestAreaPotential"
        [lang]="currentLangSelfCheck"
      >
        <div slot="top" class="row" style="margin: 0px">
          <div
            class="card"
            style="
              font-weight: 600;
              font-size: large;
              padding: 0.2rem;
              margin: 0px;
            "
          >
            <span
              >â›”ï¸ In diesem Bereich ist dein Flow am geringsten. Weisst du
              warum?</span
            >
          </div>
        </div>
      </app-display-result>
      <app-display-result
        [results]="resultDataSet.goodFlow"
        [lang]="currentLangSelfCheck"
      >
        <div slot="top" class="row" style="margin: 0px">
          <div
            class="card"
            style="
              font-weight: 600;
              font-size: large;
              padding: 0.2rem;
              margin: 0px;
            "
          >
            <span>ğŸŒŸ Gratulation. Du bist ziemlich im Flow hier!</span>
          </div>
        </div>
      </app-display-result>
      <app-display-result
        [results]="resultDataSet.topAreas"
        [lang]="currentLangSelfCheck"
      >
        <div slot="top" class="row" style="margin: 0px">
          <div
            class="card"
            style="
              font-weight: 600;
              font-size: large;
              padding: 0.2rem;
              margin: 0px;
            "
          >
            <span
              >ğŸš€ Das ist oder sind dein(e) Top-Bereich(e) â€“ stimmst du
              zu?</span
            >
          </div>
        </div>
      </app-display-result>
      <h6>Ich freue mich Ã¼ber dein Feedback.</h6>
      <button
        onclick="window.open('https://forms.gle/dL4LqC9ZxZ2sybog7', '_blank')"
        style="cursor: pointer"
      >
        ğŸ’¡ Feedback
      </button>
      <br />
    }
  } @else {
    <button
      style="cursor: pointer; margin: 3rem"
      *ngIf="currentQuestionIndex > 0"
      (click)="goBack()"
    >
      â¬…ï¸ ZurÃ¼ck
    </button>
  }
</div>
